{"version":3,"sources":["components/utils/reactHooks.js","components/cardComponents/data/option-data.js","components/cardComponents/util/index.js","components/cardComponents/util/selection.js","components/cardComponents/card-settings.js","components/cardComponents/data/defaultSettings.js","components/imageComponents/index.js","components/cardComponents/card/index.js","components/cardComponents/dnd-dialog.js","components/tabComponents/index.js","components/cardComponents/help-dialog/content-text.js","components/cardComponents/help-dialog/printing.js","components/cardComponents/help-dialog/index.js","components/cardComponents/page-settings.js","components/cardComponents/data/exampleCards.js","components/utils/toolHelper.js","components/cardComponents/preview.js","components/cardComponents/generator.js","components/cardComponents/print.js","App.js","index.js"],"names":["useLocalState","args","useStorageState","window","localStorage","pageSize","a4","name","hint","width","height","letter","cardSize","titleFont","value","bodyFont","RRC","str","textSize","count","pfStyle","Number","rr","match","i","className","style","src","Button","styled","button","ClearButton","StyledDialog","Dialog","TextField","textField","ColorSelector","color","onChange","emptyMessage","props","React","useState","anchorEl","setAnchorEl","handleClose","open","Boolean","id","undefined","position","onClick","event","currentTarget","backgroundColor","top","left","WebkitTransform","MsTransform","transform","Popper","onClose","triangle","hex","adjusted","toUpperCase","IconSelector","label","iconMap","valueWithRotation","split","startingRotation","setOpen","inputValue","setInputValue","page","setPage","rotation","setRotation","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","useEffect","path","searchValue","join","options","Object","values","filter","op","includes","sort","a","b","maximumPages","Math","floor","length","_","map","current","clickIcon","iconId","rotate","deg","overflow","display","alt","fullWidth","maxWidth","scroll","DialogTitle","Grid","container","direction","justify","alignItems","item","margin","IconButton","DialogContent","dividers","spacing","target","href","xs","variant","DialogActions","Pagination","e","newValue","IconOption","border","textAlign","Select","select","Input","input","CardSettings","pageSetting","card","currentCard","updateCard","title","tags","contents","title_size","body_text_size","icon_front","icon_back","qr","type","inputProps","step","min","disabled","placeholder","onUpdate","Contents","innerValue","setValue","onBlur","minHeight","padding","fontSize","lineHeight","defaultCardData","Image","Wrapper","size","card_data_color_front","card_data","color_front","default_color","get_icon_rotation_array","iconValue","card_data_body_text_font","default_body_text_size","card_data_split_params","trim","Title","default_title_size","console","log","Icon","icon","default_icon","card_data_icon_front","iconClass","icon_inline","renderAs","includeMargin","bgColor","fgColor","IconBack","card_data_icon_back","Ruler","params","viewBox","preserveAspectRatio","xmlns","points","fill","Boxes","Box","x","y","stroke","strokeWidth","Array","D20Stat","dex","con","int","wis","cha","v","vnum","mod","TableHeader","cellStyle","rowStyle","textHeight","param","TableRow","Empty","card_element_generators","subtitle","subtitle_text_font","parseFloat","toString","card_data_subtitle_text_font","property","right","float","rule","ruler","box","boxes","description","text","center","hyphens","bullet","check","flex","section","section_text_font","card_data_section_text_font","picture","url","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","tablehead","tableheader","table","tablerow","pftrait","traits","rarityClass","d20stat","d20ability","unknown","CardFront","colorStyle","card_generate_color_style","body_text_font","card_size","masterStyle","card_orientation","makeCardContents","CardBack","color_back","card_data_color_back","card_generate_background_color_style","CardEmpty","CardContent","line","Gen","content","list","split_content","isArray","tableprops","find","row","startsWith","toLowerCase","replace","marginTop","queue","forEach","push","borderColor","card_pages_generate_html","cardList","rows","page_rows","cols","page_columns","front_cards","flatMap","card_count","back_cards","pages","card_arrangement","card_pages_add_padding","front_pages","card_pages_split","back_pages","result","card_pages_merge","cards","r","c","cards_pages_flip_left_right","card_pages_interleave_cards","card_pages_wrap","page_size","page_orientation","background_color","foreground_color","data","cards_per_page","slice","concat","setCardList","currentOrder","setOrder","uuid","uuidv4","DDList","onDragEnd","destination","newOrderItems","reorder","source","index","droppableId","provided","snapshot","droppableProps","ref","innerRef","getListStyle","isDraggingOver","draggableId","draggableProps","dragHandleProps","getItemStyle","isDragging","random","DragItem","cardProps","borderRadius","zIndex","startIndex","endIndex","from","splice","removed","draggableStyle","background","marginBottom","TabPanel","children","other","Typography","component","role","hidden","aria-labelledby","p","useStyles","makeStyles","root","flexGrow","palette","paper","TabManager","names","tabContent","orientation","tabProps","classes","AppBar","Tabs","Tab","minWidth","HelpDialog","PageSettings","pageOptions","setPageOptions","togglePrintMode","default_card_count","rounded_corners","md","handleFile","fileReader","FileReader","onloadend","JSON","parse","readAsText","files","fileName","prompt","file","Blob","stringify","saveAs","Link","to","size2Options","f","Divider","sizes","entries","UploadButton","accept","multiple","htmlFor","Preview","Container","NativeSelect","Deck","updateCurrent","removeCurrent","newCard","duplicateCard","nameList","max","makeDeckItem","Accordion","square","AccordionSummary","AccordionDetails","Generator","setCurrentCard","setOptions","setIconMap","loadedIcons","require","overflowX","dup","curr","def","Print","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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SACP8G,MAAO,gBACP0C,KAAM,eACNpC,UAAW,OACXJ,SAAU,CACN,iCACA,OACA,qCACA,sCACA,8BACA,OACA,WACA,gLACA,+FACA,WACA,6BACA,gDAEJD,KAAM,CAAC,QAAS,SAEpB,CACIjI,MAAO,EACPkB,MAAO,SACP8G,MAAO,iBACP0C,KAAM,aACNpC,UAAW,eACXJ,SAAU,CACN,2BACA,OACA,WACA,8JACA,WACA,mCACA,gNAEJD,KAAM,CAAC,UAAW,UAEtB,CACIjI,MAAO,EACPkB,MAAO,UACP8G,MAAO,aACP0C,KAAM,cACNxC,SAAU,CACN,kCACA,OACA,qBACA,oCACA,oCACA,OACA,WACA,iGACA,+EACA,YAEJD,KAAM,CAAC,OAAQ,UAEnB,CACIjI,MAAO,EACPkB,MAAO,UACP8G,MAAO,SACP0C,KAAM,eACNxC,SAAU,CACN,uCACA,OACA,mCACA,8CACA,yDACA,OACA,WACA,mGACA,oIACA,gGACA,YAEJD,KAAM,CAAC,OAAQ,WAEnB,CACIjI,MAAO,EACPkB,MAAO,UACP8G,MAAO,gCACPG,WAAY,KACZuC,KAAM,iBACNxC,SAAU,CACN,wCACA,OACA,mCACA,8CACA,yCACA,OACA,WACA,mGACA,oIACA,YAEJD,KAAM,CAAC,OAAQ,SAAU,UAE7B,CACIjI,MAAO,EACPkB,MAAO,UACP8G,MAAO,yBACP0C,KAAM,eACNxC,SAAU,CACN,2BACA,OACA,iCACA,uCACA,mGACA,OACA,WACA,+EACA,+CACA,gDACA,gDACA,WACA,mBAEJD,KAAM,CAAC,OAAQ,gBAAiB,UAEpC,CACIjI,MAAO,EACPkB,MAAO,UACP8G,MAAO,oBACP0C,KAAM,WACNxC,SAAU,CACN,2BACA,OACA,iCACA,yCACA,OACA,WACA,iEACA,4DACA,YAEJD,KAAM,CAAC,OAAQ,eAEnB,CACIjI,MAAO,EACPkB,MAAO,QACP8G,MAAO,SACP0C,KAAM,YACNxC,SAAU,CACN,wCACA,OACA,sDACA,kCACA,OACA,sCACA,OACA,iCACA,qCACA,OACA,kEACA,WACA,oBACA,sHAEJD,KAAM,CAAC,WAAY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","file":"static/js/main.0820f3be.chunk.js","sourcesContent":["import { useStorageState } from 'react-storage-hooks';\r\n\r\nexport const useSessionState = (...args) => {\r\n    return useStorageState(window.sessionStorage, ...args);\r\n};\r\n\r\nexport const useLocalState = (...args) => {\r\n    return useStorageState(window.localStorage, ...args);\r\n};\r\n","export const pageSize = {\r\n    a4: { name: 'A4', hint: '', width: '210mm', height: '296mm' },\r\n    letter: {\r\n        name: 'Letter',\r\n        hint: '',\r\n        width: '8.5in',\r\n        height: '11in',\r\n    },\r\n    '225x35': {\r\n        name: '2.25\"  3.5\"',\r\n        hint: 'Bridge card',\r\n        width: '2.25in',\r\n        height: '3.5in',\r\n    },\r\n    '25x35': {\r\n        name: '2.5\"  3.5\"',\r\n        hint: 'Poker card',\r\n        width: '2.5in',\r\n        height: '3.5in',\r\n    },\r\n    '30x50': {\r\n        name: '3.0\"  5.0\"',\r\n        hint: 'Index card (s)',\r\n        width: '3in',\r\n        height: '5in',\r\n    },\r\n    '40x60': {\r\n        name: '4.0\"  6.0\"',\r\n        hint: 'Index card',\r\n        width: '4in',\r\n        height: '6in',\r\n    },\r\n    '425x55': {\r\n        name: '4.25\"  5.5\"',\r\n        hint: 'Postcard',\r\n        width: '4.25in',\r\n        height: '5.5in',\r\n    },\r\n};\r\n\r\nexport const cardSize = {\r\n    a4: { name: 'A4', hint: '', width: '210mm', height: '296mm' },\r\n    letter: {\r\n        name: 'Letter',\r\n        hint: '',\r\n        width: '210mm',\r\n        height: '296mm',\r\n    },\r\n    '225x35': {\r\n        name: '2.25\"  3.5\"',\r\n        hint: 'Bridge card',\r\n        width: '2.25in',\r\n        height: '3.5in',\r\n    },\r\n    '25x35': {\r\n        name: '2.5\"  3.5\"',\r\n        hint: 'Poker card',\r\n        width: '2.5in',\r\n        height: '3.5in',\r\n    },\r\n    '30x50': {\r\n        name: '3.0\"  5.0\"',\r\n        hint: 'Index card (s)',\r\n        width: '3in',\r\n        height: '5in',\r\n    },\r\n    '40x60': {\r\n        name: '4.0\"  6.0\"',\r\n        hint: 'Index card',\r\n        width: '4in',\r\n        height: '6in',\r\n    },\r\n    '425x55': {\r\n        name: '4.25\"  5.5\"',\r\n        hint: 'Postcard',\r\n        width: '4.25in',\r\n        height: '5.5in',\r\n    },\r\n};\r\n\r\nexport const titleFont = [\r\n    {\r\n        name: 'default font',\r\n        value: '',\r\n    },\r\n    {\r\n        name: '16pt font',\r\n        value: '16',\r\n    },\r\n    {\r\n        name: '15pt font',\r\n        value: '15',\r\n    },\r\n    {\r\n        name: '14pt font',\r\n        value: '14',\r\n    },\r\n    {\r\n        name: '13pt font',\r\n        value: '13',\r\n    },\r\n    {\r\n        name: '12pt font',\r\n        value: '12',\r\n    },\r\n    {\r\n        name: '11pt font',\r\n        value: '11',\r\n    },\r\n    {\r\n        name: '10pt font',\r\n        value: '10',\r\n    },\r\n];\r\n\r\nexport const bodyFont = [\r\n    {\r\n        name: 'default font',\r\n        value: '',\r\n    },\r\n    {\r\n        name: '11pt font',\r\n        value: '11',\r\n    },\r\n    {\r\n        name: '10pt font',\r\n        value: '10',\r\n    },\r\n    {\r\n        name: '9pt font',\r\n        value: '9',\r\n    },\r\n    {\r\n        name: '8pt font',\r\n        value: '8',\r\n    },\r\n    {\r\n        name: '7.5pt font',\r\n        value: '7.5',\r\n    },\r\n    {\r\n        name: '7pt font',\r\n        value: '7',\r\n    },\r\n    {\r\n        name: '6.5pt font',\r\n        value: '6.5',\r\n    },\r\n    {\r\n        name: '6pt font',\r\n        value: '6',\r\n    },\r\n    {\r\n        name: '5pt font',\r\n        value: '5',\r\n    },\r\n];\r\n","import rr from 'react-string-replace';\r\n\r\nexport const RRC = (str, textSize) => {\r\n    let count = 0;\r\n\r\n    const pfStyle = {};\r\n    if (Number(textSize) > 4) {\r\n        pfStyle.height = Number(textSize) + 'pt';\r\n    } \r\n\r\n    str = rr(str, /\\*\\*\\*([^\\*]+)\\*\\*\\*/g, (match, i) => (\r\n        <strong key={match + count++}>\r\n            <em>{match}</em>\r\n        </strong>\r\n    ));\r\n\r\n    str = rr(str, /\\*\\*([^\\*]+)\\*\\*/g, (match, i) => (\r\n        <strong key={match + count++}>{match}</strong>\r\n    ));\r\n\r\n    str = rr(str, /\\*([^\\*]+)\\*/g, (match, i) => (\r\n        <em key={match + count++}>{match}</em>\r\n    ));\r\n\r\n    str = rr(str, '---', (match, i) => (\r\n        <span key={match + count++}> &mdash; </span>\r\n    ));\r\n\r\n    str = rr(str, '--', (match, i) => (\r\n        <span key={match + count++}> &ndash; </span>\r\n    ));\r\n\r\n    str = rr(str, '<br>', (match, i) => (\r\n        <span key={match + count++}>\r\n            <br />\r\n        </span>\r\n    ));\r\n\r\n    str = rr(str, '<br/>', (match, i) => (\r\n        <span key={match + count++}>\r\n            <br />\r\n        </span>\r\n    ));\r\n\r\n    str = rr(str, '^^', (match, i) => (\r\n        <span key={match + count++}>\r\n            <br />\r\n        </span>\r\n    ));\r\n\r\n    str = rr(str, '[[one-action]]', (match, i) => (\r\n        <img\r\n            key={match + count++}\r\n            className='card-pfaction'\r\n            style={pfStyle}\r\n            src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAQCAYAAADJViUEAAAABHNCSVQICAgIfAhkiAAAAdNJREFUKJGNUz1vE0EQnd3Z27vbu5hgGzuXQ8EoKRAUiI8mQqKgQOmQKKjoEB0NDQ2BlgqJFkWiiGgSFEQqKBBCQuJv4Arh+GKUs3fXDnceihAUX86IV76ZNx+aeQBTIISozTWarxBxdlpOKRCxshCf/rp4pkXxXPSZcx6W5hUJzrmKo2hbCuf6nwlanude1tpsEVA2VcwYE3E0/8Z1nJWjvCPEkivleW3MOwDI/zY6mkRE4zzP2gBAxYmU799u1OtrjDFR7Mzr1dpqluftvTTdVMpfECguFQtIR14UwmloY94DACEAsHq19uzEzMxqGKgVbe3WXppuKBWcE4gXigVcKa8IgYGx9iPWTlafzlYqjwGAccZPBb66MTBmI+33N8MwvIqcLxX0zJXuMuecOABN7Mc59xhjEuj43kWgHQ6/IKLvue61MdG3750fN39lWSeO5l9LIW6VaCgd9J8nvd4TBAAw1n4SAtnuz96j0f5+O46iNU/Ku2Xd+lq/7O4mDwGAWCHGo2bzhfL8BwBQjMHA6PWdJLlHdPAsE3dmjCGiaJUJjbVvd5Lk/qEQ4Ph7jgdabweBWkaOZw9JOxp+6HS7d4hoVLbKBP7XGFNxYMnGPy35G5THnjF7a0U6AAAAAElFTkSuQmCC'\r\n        />\r\n    ));\r\n\r\n    str = rr(str, '[[two-action]]', (match, i) => (\r\n        <img\r\n            key={match + count++}\r\n            className='card-pfaction'\r\n            style={pfStyle}\r\n            src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAABHNCSVQICAgIfAhkiAAAAuFJREFUOI2NlEtoU0EUhs+dmTv3nebdeJu21qoVBKlSK4qKIIJQxTcUXSjiRlBw48rHzr1LxS5atBSlVfEJakVduBNEEFy40tomaROT2/tM6h0XWrlNbzD/bs588//nnMUANBDGWNEzmRuEkEwjJiCuCWaJudyRzT7t7lzJOrPtHwnGyUZsMpE4o7dmRjiOI6Fe9QWEEM2u0O/yhOz7e84osrLbtK17jDE3yMZj8eOxSMsQIWSjQIUO07Ie/S8AZfW2UUrIIQiMjRHSZUneaVrWOGPMAwCIRaNHE9HobcYYDwDA83yvQGnatK3nAMAaTiCJwg7K036o2yvGuF2WpC2mbU0wxhayuj7GfKYHGcrzm3meKJZtv6oPQKlk8jJjrFCuVO4IAs1Snt9UH04w7pIlqc+0rXHTNO9HItp+AEgEGYHSbYRgajvO5GIAl0okrkVU7YqmqAccz31UMYxRKgidlPC9ISHdkihuKBvGsO04DyOqdhAAoktDhO0YY992nHc4GU9cbdG0SwCAAKBFU5QB23XGDcMYEwVxHU/I+mUhhPSIgthTNoxhx3WfqKp6lAPQAggnCsIuhJCBKKVa/b6bEAPuzxtKaTdCKBbCuJ7nfcamZU2KohTnCelnAN+nC/k9Vc+bak2nb8mSdCLM3fW8JzP5/KCmqtvTieQDxphch3iF4tygaVnPMAAw07JeCKIozJWKF13X/ZpJp28qknw6zNyrVV/O5PJHVEXpa02mHjPGtDqkOlsqnpw3zQmA5atBranUdVVWzoXcgVervp7O5Q74vm+tWdX9xf/1a+3SvbGFYunnqcq8MfrPsN5EkqTVYZ1Xa7X307ncId/3TQBgP3IzxziOmw0gfqlcPhs0Dwvwv01NHfYZexMs1hYWPkzncwO+7xuLNdu2P83MFvZyiCsBgF+qlC+UK5WhsOaWCWOsdXV0vm3ms1NVdWs8FjvflHFQhJCWrN420uR33VC/Aa8NFknPxGqgAAAAAElFTkSuQmCC'\r\n        />\r\n    ));\r\n\r\n    str = rr(str, '[[three-action]]', (match, i) => (\r\n        <img\r\n            key={match + count++}\r\n            className='card-pfaction'\r\n            style={pfStyle}\r\n            src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAABHNCSVQICAgIfAhkiAAAA8BJREFUSImdlUlsHEUUht/rWrp6lp7unnHPjJ2MgxNWgyKWA6AEC5BsQUBRpCAOKBcIAoGPIG7ABS4sEgpwgguXnBIPxgbFCOUQcQBFiVgiDnC3PYsjHHdVLzNdXGxr0p6QOP/x1d/1Vb3X7xXADYSI1HPcDznjB27kGbTfgmdXIhXPOzXRGE8bY2N/M8YmbmRkjO2tV2sLlNK9twMyhsXKrvuRXSi+iYjIKDtQH/EXGWONrJFSWqv71XM5IY7U/eoPhJD6MAgiskK+8NIwHskGPMf9wLHttxBxO62EkIolrGml1Hyapuub8OqoX/2RMTa56fFzljUdSHlGax0MwkfK5a/cUuk9NIycCsOf/jcD/X7/H611ko1zxiZrI/4ipbQKAFAsFF5kjN1/vYc/UPer3xNCKlv8ilf+spgvnEBEwynab7uO8z4M/DPbGSgV7dcBQQVSLmnQbWGaM4h4XYYIIVVLiCelUk2p5HnKqGNy/uighxIyKkwxFUh5Vmsd5S3rOc75Q7gpYZqHAbAfRuGF7QOUbHu27LmfFXL5YzJUC1LKJQC4KoSYRkRjJ8A8LJVqbgTBt4wz32T8kcFbUUr3WEIcCqQ8I5VqUkoanPGDA4eY0hrCMIp+JnaxeLLieacQkBqIdj6Xe14p9V2g5DkEDCwhZrLloJTuEab5uFTqbBAETcbYHZzxgxlPQ5jmY0EQnJZKzXPO7uGMTwIAIKJhCfFUmqZdA3b2MAcAsVXDLBwAQGutt5YMwygwxu4cZot7yZVU65AQUuaU3Z3Z41oUJ5dJFMeXUq2vWpaYTvtpZ7m1OhMnyZ+OXZp1HefjbAm01jqK419W2q2jWut4tFpbMDk/lIWvb1z7uttdm6WEVmq+v2hy/uDWYpqm6yvt1rEwCi9QAIB/19c/B4B+GEa/xnH8e8m2X3NLpU8NRJqFx0lyabXTPqq1VnW/2jQ5fyLr2ZDBN521tTcAQdf8kTmT84e34TrdWOm0j6swPA8w0AVRFF3s9/vLpaL9suc4XxiGwbM5TZLkj5V265ler9dyHeedYj5/MnvzQMrT7W73lc1W1ohG3xLiCCISrbVabbePK6WWtj7YMYjyudwLlhBTg4MIACBOkisr7dazvV5vGQAgjKKLpmnexyi7dwA+1+p2TgzOkSiOftMaVi0hnm51O68GUs5lmVkZZdf7ZKIxnu4f36cnGuNpY3Tsr2GjGBH5aK02v398X1ob8ZuIKIZtCADAOb/rZuBB3fJjZBiG5bnuu4iY2w3gptrlc3zb+g/DZ3c9xGiesQAAAABJRU5ErkJggg=='\r\n        />\r\n    ));\r\n\r\n    str = rr(str, '[[free-action]]', (match, i) => (\r\n        <img\r\n            key={match + count++}\r\n            className='card-pfaction'\r\n            style={pfStyle}\r\n            src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAl9JREFUOI19krFPFFEQxmfmvWXfvsMDBXZvF5Nb2D1yREFKrGhM6G1sBRMTG7CwAhErbFDDHyF2oDZGchTY0plYcdYIJrdcbo89jtt7FrdnFoJM8ZI3+b7ffJkMQKcQLhYiIrcta+NOcfwLY0xP+pTWdP+XzYCIzLas917ebXt5V40Xi9spSNfDIHkwBSFE5DnTeiuFsXjWOv8YRY0SR5qzLGuyEgRbSqk40as0DZPJ3LFyG17ebd92hjcRkQMADQ0Mrnt5tz3mFy4n6cRIzNSZLBYBAJvn57u1MPwKACpqRCXGeKaH83nTtCaCk2A7SdIBICLLmdY7KcSCUqoFANSjadPCENl6vV5SSrVPo9NdznmGE81ZlnWvEnQgLDGvSyGex0od/v5zPMsZG9Y0bUzjfFoX4kYYhjsAoBJIbwK5WwmCT8yx7Q2piwXGGBweHz2Iomj/NIo+92YyDxnRkMb5tDCEDMOwlEBKwhCjpOCRbTuThIABIkIcx9if7VtCRL0/2/eMc+Yn64kbjbMf3V1JQ05IXcwSUfus2dxHACAnZ69IIV4rpaAVxz8ZURERGQA0K9XqfHASfEjMU7Zp7hDRIDB6eVAurzEAoFoY7hmGBI3zGUI0EZEAoFWpVh8HJ8FmyvwtMb86KJfX0ncAAABOzl713RHluyNq4NbAk1TsKS/vHhVGvXbB85cu38E/QC0MvwvDUBrnM6AUhfX6lpRyMhV75eBX+c2Vh5SC7AlDohTiqZTy/s1s3wsiGkTGLsT+L6ADqe0Jw1CGrs8houwu7CrttTVsO6sF31++TvMXOj7bsM8roOMAAAAASUVORK5CYII='\r\n        />\r\n    ));\r\n\r\n    str = rr(str, '[[reaction]]', (match, i) => (\r\n        <img\r\n            key={match + count++}\r\n            className='card-pfaction'\r\n            style={pfStyle}\r\n            src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAQCAYAAAD0xERiAAAABHNCSVQICAgIfAhkiAAAAkRJREFUOI2dlM9rE0EUx9+bnf2ZTYLJZtMmVUS0x1ykxaP05kl61LsHpSgieKoHQfBkq/4HCgXxIMUiCIJQRAWhIOJBQdAiVRSzu2l2s5ndnRkvpiwxCdZ3+877vs+892AGYSgIIWbRLp7UNXVB1/QWEjJFKbVSxnxUlJ04jrd6/fhZFEVvAEDmazEHKTjV6kXbtC4gYjOfGxGcC/HO7wQ3drvddSml2IMZhnGsXnMfUEU5xJLkdZql7xOWdBCRGKYxo1I6pyBpIaI+DGVJ8vD7zx/nOOcRqqramGk07/uBf68bho8459GoVnRdP3KgXF6yrcKSlFLN55I03fj6bWcRHcc56/v+Y855OGYkzO+mUCicmHbrT6QQlZxHBt3ueUREKqXMJuznrygViwu1SvUpAOx1KKR8qwCA2A8IAIAlyWfbtucVQmYHZ5RSl+wXNIgw7G7mtUTs/zeMUrWY13Gv9/yfYJZlHW82GqsDjYhqwTJP5yws2O3cnAijCi1PufVb0zX3RZamyYBVqzrXFKK0/ugsjHvLYRS9ouNA5VJp0alU74CUBwEA+oxtEkL0muNct03rKgAgILa9wL/kB8EawIgnYxjGrFt1bquUnsqNxWLGVgxNOwMAhwFxO4yiNc/3VtIsa+/5cgVKveZesUxzGQGKQ3eABNjwAn89zbKtOI4/CCHYsEfJiyRNv2SCv+Q8+4SIjFJaBgANAIgQgvzyvMuMsW0pJR+1mkk/AyCiZhjGUcs05zVVnUvS7GPba98d5/8Nkc/n9eZdAXIAAAAASUVORK5CYII='\r\n        />\r\n    ));\r\n\r\n    return str;\r\n};\r\n","import styled from '@emotion/styled';\r\nimport {\r\n    Button as button,\r\n\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    IconButton,\r\n    Popper,\r\n    TextField as textField,\r\n    useMediaQuery,\r\n    useTheme\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Pagination } from '@material-ui/lab';\r\nimport React, { useEffect } from 'react';\r\nimport { CompactPicker } from 'react-color';\r\nimport { RRC } from '.';\r\n\r\nconst Button = styled(button)`\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst ClearButton = styled(button)`\r\n    font-size: 12px;\r\n`;\r\n\r\nconst StyledDialog = styled(Dialog)`\r\n    .MuiAppBar {\r\n        position: relative;\r\n        width: unset;\r\n    }\r\n    .MuiTypography-h6 {\r\n        margin-left: theme.spacing(2);\r\n        flex: 1;\r\n    }\r\n\r\n    .MuiDialog-paper {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n`;\r\nconst TextField = styled(textField)`\r\n    width: 100%;\r\n`;\r\n\r\nexport const ColorSelector = ({\r\n    color,\r\n    onChange,\r\n    width = 12,\r\n    emptyMessage = 'No color selected',\r\n    ...props\r\n}) => {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(anchorEl ? null : event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleColor = ({ hex }) => {\r\n        const adjusted = hex.toUpperCase() === 'TRANSPARENT' ? '' : hex;\r\n        if (typeof onChange === 'function') onChange(adjusted);\r\n        handleClose();\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popper' : undefined;\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                style={{\r\n                    position: 'relative',\r\n                    height: '48px',\r\n                    position: 'relative',\r\n                    overflow: 'hidden',\r\n                }}\r\n                onClick={handleClick}\r\n            >\r\n                <span\r\n                    style={{\r\n                        backgroundColor: color,\r\n                        height: '24px',\r\n                        width: '24px',\r\n                        position: 'absolute',\r\n                        top: '50%',\r\n                        left: '24px',\r\n                        WebkitTransform: 'translate(-50%, -50%)',\r\n                        MsTransform: 'translate(-50%, -50%)',\r\n                        transform: 'translate(-50%, -50%)',\r\n                    }}\r\n                />\r\n                <span\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: '50%',\r\n                        left: '48px',\r\n                        WebkitTransform: 'translate(0%, -50%)',\r\n                        MsTransform: 'translate(0%, -50%)',\r\n                        transform: 'translate(0%, -50%)',\r\n                    }}\r\n                >\r\n                    {color ? 'Color ' + color : emptyMessage}\r\n                </span>\r\n            </Button>\r\n            <Popper\r\n                id={id}\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n            >\r\n                <CompactPicker\r\n                    {...props}\r\n                    color={color}\r\n                    triangle='top-left'\r\n                    width={12 + width * 25}\r\n                    onChange={handleColor}\r\n                />\r\n            </Popper>\r\n        </>\r\n    );\r\n};\r\n\r\nexport const IconSelector = ({\r\n    label = 'Default icon',\r\n    iconMap,\r\n    value: valueWithRotation,\r\n    onChange,\r\n    emptyMessage = 'No icon selected',\r\n    ...props\r\n}) => {\r\n    const [value = '', rawRotation = ''] = valueWithRotation\r\n        ? valueWithRotation.split('#')\r\n        : [];\r\n    const startingRotation = Number(rawRotation) / 15 || 0;\r\n    const [open, setOpen] = React.useState(false);\r\n    const [inputValue, setInputValue] = React.useState('');\r\n    const [page, setPage] = React.useState(0);\r\n    const [pageSize, setPageSize] = React.useState(20);\r\n    const [rotation, setRotation] = React.useState(startingRotation);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    useEffect(() => {\r\n        setInputValue('');\r\n        setPage(0);\r\n        setRotation(startingRotation);\r\n    }, [valueWithRotation]);\r\n\r\n    const { path, id } = iconMap[value] || {};\r\n\r\n    const searchValue = inputValue.split(' ').join('-');\r\n    let options = Object.values(iconMap)\r\n        .filter(op => op.id.includes(searchValue))\r\n        .sort((a, b) => {\r\n            return a.id === value ? -1 : b.id === value ? 1 : 0;\r\n        });\r\n\r\n    const maximumPages = Math.floor(options.length / pageSize);\r\n\r\n    //Check if the search value has matches\r\n    if (options.length) {\r\n        //Enact page filter\r\n        options = options.filter(\r\n            (_, i) => i >= page * pageSize && i < (page + 1) * pageSize\r\n        );\r\n        //Check that page filter has matches\r\n        if (options.length === 0 && page > 0) {\r\n            //No match, set to page zero\r\n            setPage(0);\r\n        } else {\r\n            // Match, do expensive string transform\r\n            options = options.map(op => ({\r\n                ...op,\r\n                name: (inputValue\r\n                    ? op.id.split(searchValue).join('***' + searchValue + '***')\r\n                    : op.id\r\n                )\r\n                    .split('-')\r\n                    .join(' '),\r\n                current: op.id === id,\r\n            }));\r\n        }\r\n    }\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const clickIcon = iconId => {\r\n        if (typeof onChange === 'function')\r\n            onChange(\r\n                iconId +\r\n                    (rotation !== 0 && rotation < 24 ? `#${rotation * 15}` : '')\r\n            );\r\n        handleClose();\r\n    };\r\n\r\n    const rotate = deg => () => {\r\n        setRotation(rotation + deg >= 24 ? 0 : rotation + deg);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                style={{\r\n                    position: 'relative',\r\n                    height: '48px',\r\n                    overflow: 'hidden',\r\n                }}\r\n                onClick={handleOpen}\r\n            >\r\n                <div\r\n                    style={{\r\n                        height: '24px',\r\n                        width: '24px',\r\n                        position: 'absolute',\r\n                        top: '50%',\r\n                        left: '24px',\r\n                        WebkitTransform: 'translate(-50%, -50%)',\r\n                        MsTransform: 'translate(-50%, -50%)',\r\n                        transform: `translate(-50%, -50%)`,\r\n                        backgroundColor: 'black',\r\n                        overflow: 'hidden',\r\n                    }}\r\n                >\r\n                    <img\r\n                        style={{\r\n                            height: '24px',\r\n                            width: '24px',\r\n                            transform: `rotate(${startingRotation * 15}deg)`,\r\n                            display: path ? 'initial' : 'none',\r\n                        }}\r\n                        src={path || ''}\r\n                        alt=''\r\n                    />\r\n                </div>\r\n                <span\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: '50%',\r\n                        left: '48px',\r\n                        WebkitTransform: 'translate(0%, -50%)',\r\n                        MsTransform: 'translate(0%, -50%)',\r\n                        transform: 'translate(0%, -50%)',\r\n                    }}\r\n                >\r\n                    {value || emptyMessage}\r\n                </span>\r\n            </Button>\r\n            <StyledDialog\r\n                fullScreen={fullScreen}\r\n                open={open}\r\n                onClose={handleClose}\r\n                fullWidth\r\n                maxWidth='md'\r\n                scroll='paper'\r\n            >\r\n                <DialogTitle>\r\n                    <Grid\r\n                        container\r\n                        direction='row'\r\n                        justify='space-between'\r\n                        alignItems='center'\r\n                    >\r\n                        <Grid item>\r\n                            <h1 style={{ margin: 0 }}>Select an icon</h1>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <IconButton onClick={handleClose}>\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogTitle>\r\n                <DialogContent dividers style={{ overflow: 'hidden' }}>\r\n                    <Grid container direction='row' spacing={1}>\r\n                        <Grid item>\r\n                            <p>\r\n                                Select an icon. You can search by the name of\r\n                                the icon. All icons are credited to{' '}\r\n                                <a\r\n                                    target='_blank'\r\n                                    href='https://game-icons.net/'\r\n                                >\r\n                                    game-icons.net\r\n                                </a>\r\n                                . You should use their site for a more detailed\r\n                                search function.\r\n                            </p>\r\n                            <TextField\r\n                                label='Search for Icon'\r\n                                value={inputValue}\r\n                                onChange={event =>\r\n                                    setInputValue(event.target.value)\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                        <Grid\r\n                            item\r\n                            container\r\n                            direction='row'\r\n                            justify='space-between'\r\n                            alignItems='flex-start'\r\n                            spacing={1}\r\n                        >\r\n                            <Grid\r\n                                item\r\n                                container\r\n                                direction='row'\r\n                                justify='flex-start'\r\n                                alignItems='center'\r\n                                xs={8}\r\n                            >\r\n                                <Grid item>\r\n                                    <div style={{ width: 80 }}>\r\n                                        {rotation * 15}&deg;\r\n                                    </div>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button onClick={rotate(1)}>\r\n                                        Rotate 15&deg;\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button onClick={rotate(2)}>\r\n                                        Rotate 30&deg;\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button onClick={rotate(6)}>\r\n                                        Rotate 90&deg;\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Button\r\n                                        onClick={() => setRotation(0)}\r\n                                        style={{ height: '100%' }}\r\n                                    >\r\n                                        Set to 0&deg;\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <ClearButton\r\n                                    color='secondary'\r\n                                    variant='contained'\r\n                                    onClick={() => clickIcon('')}\r\n                                >\r\n                                    No Icon\r\n                                </ClearButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogContent dividers>\r\n                    <Grid container spacing={1}>\r\n                        {options.map((op, i) => (\r\n                            <IconOption\r\n                                key={i}\r\n                                {...op}\r\n                                rotation={rotation}\r\n                                onClick={clickIcon}\r\n                            />\r\n                        ))}\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Pagination\r\n                        count={maximumPages}\r\n                        page={page + 1}\r\n                        onChange={(e, newValue) => setPage(newValue - 1)}\r\n                    />\r\n                </DialogActions>\r\n            </StyledDialog>\r\n        </>\r\n    );\r\n};\r\n\r\nconst IconOption = ({\r\n    id,\r\n    name,\r\n    path,\r\n    current,\r\n    onClick,\r\n    rotation,\r\n    ...props\r\n}) => {\r\n    return (\r\n        <Grid item {...props}>\r\n            <div\r\n                style={{\r\n                    border: 'solid black 2px',\r\n                    textAlign: 'center',\r\n                }}\r\n                onClick={() => onClick(id)}\r\n            >\r\n                {path ? (\r\n                    <div\r\n                        style={{ backgroundColor: 'black', overflow: 'hidden' }}\r\n                    >\r\n                        <img\r\n                            style={{\r\n                                // backgroundColor: 'black',\r\n                                height: '160px',\r\n                                width: '160px',\r\n                                display: 'block',\r\n                                transform: `rotate(${rotation * 15}deg)`,\r\n                            }}\r\n                            src={path}\r\n                            alt=''\r\n                        />\r\n                    </div>\r\n                ) : (\r\n                    <div\r\n                        style={{\r\n                            backgroundColor: 'black',\r\n                            height: '160px',\r\n                            width: '160px',\r\n                            display: 'block',\r\n                        }}\r\n                    />\r\n                )}\r\n                <button\r\n                    style={{\r\n                        height: '40px',\r\n                        width: '160px',\r\n                        display: 'block',\r\n                    }}\r\n                >\r\n                    {RRC(name)}\r\n                </button>\r\n            </div>\r\n        </Grid>\r\n    );\r\n};\r\n","import styled from '@emotion/styled';\r\nimport {\r\n    Grid,\r\n    Input as input,\r\n    NativeSelect as select,\r\n    TextField as textField,\r\n} from '@material-ui/core';\r\nimport React from 'react';\r\nimport { bodyFont, titleFont } from './data/option-data';\r\nimport { ColorSelector, IconSelector } from './util/selection';\r\n\r\nconst Select = styled(select)`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst Input = styled(input)`\r\n    width: 100%;\r\n    height: 100%;\r\n    input {\r\n        padding-left: 8px;\r\n    }\r\n`;\r\n\r\nconst TextField = styled(textField)`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nexport const CardSettings = ({\r\n    pageSetting,\r\n    currentCard: card,\r\n    updateCard,\r\n    iconMap,\r\n}) => {\r\n    const divide = 2;\r\n\r\n    const {\r\n        title,\r\n        tags = '',\r\n        count,\r\n        contents = [],\r\n        title_size,\r\n        body_text_size,\r\n        icon_front,\r\n        icon_back,\r\n        color,\r\n        qr,\r\n    } = card;\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction='row'\r\n            justify='center'\r\n            alignItems='flex-start'\r\n            spacing={1}\r\n        >\r\n            <Grid className='label' item xs={divide}>\r\n                Name\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <TextField\r\n                    value={title}\r\n                    onChange={event =>\r\n                        updateCard({ ...card, title: event.target.value })\r\n                    }\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Title Font\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <Select\r\n                    value={title_size}\r\n                    onChange={event =>\r\n                        updateCard({ ...card, title_size: event.target.value })\r\n                    }\r\n                >\r\n                    {titleFont.map(({ name, value }) => (\r\n                        <option key={value} value={value}>\r\n                            {name}\r\n                        </option>\r\n                    ))}\r\n                </Select>\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Body Font\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <Select\r\n                    value={body_text_size}\r\n                    onChange={event =>\r\n                        updateCard({\r\n                            ...card,\r\n                            body_text_size: event.target.value,\r\n                        })\r\n                    }\r\n                >\r\n                    {bodyFont.map(({ name, value }) => (\r\n                        <option key={value} value={value}>\r\n                            {name}\r\n                        </option>\r\n                    ))}\r\n                </Select>\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Count\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <Input\r\n                    type='number'\r\n                    value={count}\r\n                    onChange={event =>\r\n                        updateCard({ ...card, count: event.target.value })\r\n                    }\r\n                    inputProps={{\r\n                        step: 1,\r\n                        min: 1,\r\n                    }}\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Tags\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <TextField\r\n                    value={tags}\r\n                    onChange={event =>\r\n                        updateCard({ ...card, tags: event.target.value })\r\n                    }\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                QR Code\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <TextField\r\n                    disabled={\r\n                        icon_front !== 'qr-code' && icon_back !== 'qr-code'\r\n                    }\r\n                    placeholder='Enter a URL to be displayed in place of an icon.'\r\n                    value={\r\n                        icon_front !== 'qr-code' && icon_back !== 'qr-code'\r\n                            ? 'Only enabled when front or back icon are qr-code'\r\n                            : qr\r\n                    }\r\n                    onChange={event =>\r\n                        updateCard({ ...card, qr: event.target.value })\r\n                    }\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Icon\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <IconSelector\r\n                    value={icon_front}\r\n                    onChange={value =>\r\n                        updateCard({ ...card, icon_front: value })\r\n                    }\r\n                    iconMap={iconMap}\r\n                    emptyMessage='Using default icon'\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Back Icon\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <IconSelector\r\n                    value={icon_back}\r\n                    onChange={value =>\r\n                        updateCard({ ...card, icon_back: value })\r\n                    }\r\n                    iconMap={iconMap}\r\n                    emptyMessage='Using front icon'\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Color\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <ColorSelector\r\n                    color={color}\r\n                    onChange={value => updateCard({ ...card, color: value })}\r\n                    emptyMessage='Using default color'\r\n                />\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Content\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <Contents\r\n                    value={contents}\r\n                    onUpdate={contents =>\r\n                        updateCard({\r\n                            ...card,\r\n                            contents,\r\n                        })\r\n                    }\r\n                />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nconst Contents = ({ value = [], onUpdate, ...props }) => {\r\n    const [innerValue, setValue] = React.useState();\r\n    React.useEffect(() => {\r\n        setValue(value.join('\\n'));\r\n    }, [value]);\r\n    return (\r\n        <textarea\r\n            value={innerValue}\r\n            onChange={event => setValue(event.target.value)}\r\n            // onChange={event => setValue(event.target.value)}\r\n            onBlur={() => {\r\n                onUpdate(innerValue.split('\\n'));\r\n            }}\r\n            // onKeyUp={() => onUpdate(innerValue.split('\\n'))}\r\n            {...props}\r\n            style={{\r\n                display: 'block',\r\n                width: '100%',\r\n                maxWidth: '95%',\r\n                height: '100%',\r\n                minHeight: 600,\r\n                padding: '6px 12px',\r\n                fontSize: 14,\r\n                lineHeight: 1.42857143,\r\n            }}\r\n        />\r\n    );\r\n};\r\n","export const defaultOptions = () => ({\r\n    foreground_color: 'white',\r\n    background_color: 'white',\r\n    default_color: 'black',\r\n    default_icon: 'ace',\r\n    default_title_size: '13',\r\n    default_body_text_size: '8',\r\n    default_card_count:1,\r\n    page_size: 'letter',\r\n    page_rows: 2,\r\n    page_columns: 2,\r\n    card_orientation: 'portrait',\r\n    page_orientation: 'portrait',\r\n    card_arrangement: 'doublesided',\r\n    card_size: '425x55',\r\n    card_count: null,\r\n    icon_inline: true,\r\n    rounded_corners: false,\r\n});\r\n\r\nexport const defaultCardData = (count = 1) => ({\r\n    count,\r\n    title: 'New card',\r\n    contents: [],\r\n    tags: [],\r\n    color: '',\r\n    icon_front: '',\r\n    icon_back: '',\r\n    title_size: '',\r\n    body_text_size: '',\r\n    qr: ''\r\n});\r\n\r\nexport const clearCardData = card => {\r\n    card.title = card.title || '';\r\n    card.contents = card.contents || [];\r\n    card.tags = card.tags || [];\r\n};\r\n","const Image = ({ alt, src, rotation='', style = {}, ...props }) => {\r\n    if (!src) return null;\r\n\r\n    if (rotation) {\r\n        style.transform = `rotate(${rotation}deg)`;\r\n    }\r\n\r\n    return <img alt='' src={src} style={style} {...props} />;\r\n};\r\n\r\nexport default Image;\r\n","import styled from '@emotion/styled';\r\nimport Image from '../../imageComponents';\r\nimport { cardSize, pageSize } from '../data/option-data';\r\nimport { RRC } from '../util';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst Wrapper = styled('div')`\r\n    @page {\r\n        margin: 0;\r\n        size: ${props => props.size}\r\n        -webkit-print-color-adjust: exact;\r\n    }\r\n`;\r\n\r\n// ============================================================================\r\n// Card definition related functions\r\n// ============================================================================\r\n\r\nexport function card_data_color_front(card_data, options) {\r\n    return (\r\n        card_data.color_front ||\r\n        card_data.color ||\r\n        options.default_color ||\r\n        'black'\r\n    );\r\n}\r\n\r\nfunction card_data_color_back(card_data, options) {\r\n    return (\r\n        card_data.color_back ||\r\n        card_data.color ||\r\n        options.default_color ||\r\n        'white'\r\n    );\r\n}\r\n\r\nfunction card_data_icon_front(card_data, options) {\r\n    const iconValue =\r\n        card_data.icon_front || card_data.icon || options.default_icon || 'ace';\r\n    return get_icon_rotation_array(iconValue);\r\n}\r\n\r\nfunction card_data_icon_back(card_data, options) {\r\n    const iconValue =\r\n        card_data.icon_back ||\r\n        card_data.icon_front ||\r\n        card_data.icon ||\r\n        options.default_icon ||\r\n        'ace';\r\n    return get_icon_rotation_array(iconValue);\r\n}\r\n\r\nfunction get_icon_rotation_array(iconValue) {\r\n    const [icon, rotation] = iconValue.split('#');\r\n    return [icon, rotation];\r\n}\r\n\r\nfunction card_data_body_text_font(card_data, options) {\r\n    return card_data.body_text_size || options.default_body_text_size || '8';\r\n}\r\n\r\nfunction card_data_subtitle_text_font(card_data, options) {\r\n    return (\r\n        parseFloat(card_data_body_text_font(card_data, options)) + 2\r\n    ).toString();\r\n}\r\n\r\nfunction card_data_section_text_font(card_data, options) {\r\n    return (\r\n        parseFloat(card_data_body_text_font(card_data, options)) + 2\r\n    ).toString();\r\n}\r\n\r\nfunction card_data_split_params(value) {\r\n    return value.split('|').map(function (str) {\r\n        return str.trim();\r\n    });\r\n}\r\n\r\n/************************************************************************/\r\n\r\nexport const Title = ({ card_data, options }) => {\r\n    var title = card_data.title || '';\r\n    var title_size =\r\n        card_data.title_size || options.default_title_size || 'normal';\r\n\r\n    const a = 'card-title card-title-' + title_size;\r\n    console.log(title_size);\r\n    return <div className={a}>{RRC(title, title_size)}</div>;\r\n};\r\n\r\nexport const Icon = ({ card_data, options, iconMap }) => {\r\n    const [icon, rotation] = card_data_icon_front(card_data, options);\r\n    const { path } = iconMap[icon] || {};\r\n    const iconClass = options && options.icon_inline ? 'inlineicon' : 'icon';\r\n\r\n    const a = 'card-title-' + iconClass + '-container';\r\n    const b = 'card-front-icon card-title-' + iconClass;\r\n\r\n    if (icon === 'qr-code') {\r\n        return (\r\n            <div className={a}>\r\n                <div className={b}>\r\n                    <QRCode\r\n                        value={card_data.qr || 'https://kaisercard.github.io/'}\r\n                        size={28}\r\n                        renderAs='svg'\r\n                        includeMargin\r\n                        bgColor='transparent'\r\n                        fgColor='white'\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={a}>\r\n            <div className={b}>\r\n                <Image src={path} rotation={rotation} alt='' />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst IconBack = ({ card_data, options, iconMap }) => {\r\n    const [icon, rotation] = card_data_icon_back(card_data, options);\r\n    const { path } = iconMap[icon] || {};\r\n\r\n    if (icon === 'qr-code') {\r\n        return (\r\n            <div className='card-back-icon qr-code'>\r\n                <QRCode\r\n                    value={card_data.qr || 'https://kaisercard.github.io/'}\r\n                    size={96}\r\n                    renderAs='svg'\r\n                    includeMargin\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='card-back-icon'>\r\n            <Image src={path} rotation={rotation} alt='' />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Subtitle = ({ params, card_data, options }) => {\r\n    var subtitle_text_font = card_data_subtitle_text_font(card_data, options);\r\n    var subtitle = params[0] || '';\r\n\r\n    const b = { fontSize: subtitle_text_font + 'pt' };\r\n\r\n    return (\r\n        <div className='card-element card-subtitle' style={b}>\r\n            {RRC(subtitle)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const InlineIcon = ({ params, card_data, options, iconMap }) => {\r\n    var icon = params[0] || '';\r\n    const { path } = iconMap[icon] || {};\r\n    var size = params[1] || '40';\r\n    var align = params[2] || 'center';\r\n    var color = card_data_color_front(card_data, options);\r\n\r\n    const a = 'card-element card-inline-icon align-' + align + ' icon-' + icon;\r\n    const b = {\r\n        height: size + 'px',\r\n        minHeight: size + 'px',\r\n        width: size + 'px',\r\n        backgroundColor: color,\r\n    };\r\n    return (\r\n        <div className={a} style={b}>\r\n            <Image src={path} alt='' />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Picture = ({ params, card_data, options }) => {\r\n    var url = params[0] || '';\r\n    var height = params[1] || '';\r\n    return (\r\n        <div\r\n            className='card-element card-picture'\r\n            style={{\r\n                backgroundImage: `url(${url})`,\r\n                backgroundSize: 'contain',\r\n                backgroundPosition: 'center',\r\n                backgroundRepeat: 'no-repeat',\r\n                height: `${height}mm`,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nconst Ruler = ({ params, card_data, options }) => {\r\n    var color = card_data_color_front(card_data, options);\r\n    return (\r\n        <svg\r\n            className='card-ruler'\r\n            height='1'\r\n            width='100'\r\n            viewBox='0 0 100 1'\r\n            preserveAspectRatio='none'\r\n            xmlns='http://www.w3.org/2000/svg'\r\n        >\r\n            <polyline points='0,0 100,0.5 0,1' fill={color} />\r\n        </svg>\r\n    );\r\n};\r\n\r\nconst Boxes = ({ params, card_data, options }) => {\r\n    var color = card_data_color_front(card_data, options);\r\n    var count = Number(params[0]) || 1;\r\n    var size = Number(params[1]) || 3;\r\n\r\n    const Box = props => (\r\n        <svg\r\n            {...props}\r\n            className='card-box'\r\n            height='100'\r\n            width='100'\r\n            viewBox='0 0 100 100'\r\n            preserveAspectRatio='none'\r\n            xmlns='http://www.w3.org/2000/svg'\r\n            style={{ width: size + 'em', height: size + 'em' }}\r\n        >\r\n            <rect\r\n                x='5'\r\n                y='5'\r\n                width='90'\r\n                height='90'\r\n                fill='none'\r\n                stroke={color}\r\n                style={{ strokeWidth: 10 }}\r\n            />\r\n        </svg>\r\n    );\r\n\r\n    return (\r\n        <div className='card-element card-description-line'>\r\n            {Array(count)\r\n                .fill(0)\r\n                .map((_, i) => (\r\n                    <Box key={i} />\r\n                ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst D20Stat = ({ params, card_data, options }) => {\r\n    const [str = 10, dex = 10, con = 10, int = 10, wis = 10, cha = 10] = params;\r\n\r\n    const display = v => {\r\n        const vnum = Number(v) || 10;\r\n        const mod = Math.floor((vnum - 10) / 2);\r\n        return `${vnum} (${mod >= 0 ? '+' + mod : mod})`;\r\n    };\r\n\r\n    return (\r\n        <table className='card-element card-d20-stat'>\r\n            <thead>\r\n                <tr>\r\n                    <th>STR</th>\r\n                    <th>DEX</th>\r\n                    <th>CON</th>\r\n                    <th>INT</th>\r\n                    <th>WIS</th>\r\n                    <th>CHA</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>{display(str)}</td>\r\n                    <td>{display(dex)}</td>\r\n                    <td>{display(con)}</td>\r\n                    <td>{display(int)}</td>\r\n                    <td>{display(wis)}</td>\r\n                    <td>{display(cha)}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    );\r\n};\r\n\r\nconst Property = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    const right = (\r\n        <div style={{ float: 'right' }}>\r\n            <h4 className='card-property-name'>{RRC(params[2], textHeight)}</h4>\r\n            <p className='card-p card-property-text'>\r\n                {RRC(params[3], textHeight)}\r\n            </p>\r\n        </div>\r\n    );\r\n    return (\r\n        <div className='card-element card-property-line'>\r\n            <h4 className='card-property-name'>{RRC(params[0], textHeight)}</h4>\r\n            <p className='card-p card-property-text'>\r\n                {RRC(params[1], textHeight)}\r\n            </p>\r\n            {params[2] ? right : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Description = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <div className='card-element card-description-line'>\r\n            <h4 className='card-description-name'>\r\n                {RRC(params[0], textHeight)}\r\n            </h4>\r\n            <p className='card-p card-description-text'>\r\n                {RRC(params[1], textHeight)}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Text = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <div className='card-element card-description-line'>\r\n            <p className='card-p card-description-text'>\r\n                {RRC(params[0], textHeight)}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Center = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <div\r\n            className='card-element card-description-line'\r\n            style={{ textAlign: 'center' }}\r\n        >\r\n            <p className='card-p card-description-text'>\r\n                {RRC(params[0], textHeight)}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Justify = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <div\r\n            className='card-element card-description-line'\r\n            style={{ textAlign: 'justify', hyphens: 'auto' }}\r\n        >\r\n            <p className='card-p card-description-text'>\r\n                {RRC(params[0], textHeight)}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Bullet = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    let item = RRC(params[0], textHeight);\r\n    if (params.length > 1) {\r\n        item = (\r\n            <>\r\n                <h4 className='card-property-name'>\r\n                    {RRC(params[0], textHeight)}\r\n                </h4>\r\n                <p className='card-p card-property-text'>\r\n                    {RRC(params[1], textHeight)}\r\n                </p>\r\n            </>\r\n        );\r\n    }\r\n    return (\r\n        <ul className='card-element card-bullet-line'>\r\n            <li className='card-bullet'>{item}</li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nconst Check = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    let item = RRC(params[0], textHeight);\r\n    if (params.length > 1) {\r\n        item = (\r\n            <>\r\n                <h4 className='card-property-name'>\r\n                    {RRC(params[0], textHeight)}\r\n                </h4>\r\n                <p className='card-p card-property-text'>\r\n                    {RRC(params[1], textHeight)}\r\n                </p>\r\n            </>\r\n        );\r\n    }\r\n    return (\r\n        <ul className='card-element card-check-line'>\r\n            <li className='card-check'>{item}</li>\r\n        </ul>\r\n    );\r\n};\r\n\r\nconst Section = ({ params, card_data, options }) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    var section_text_font = card_data_section_text_font(card_data, options);\r\n    var color = card_data_color_front(card_data, options);\r\n    var section = params[0] || '';\r\n\r\n    const right = (\r\n        <span style={{ float: 'right' }}>{RRC(params[1], textHeight)}</span>\r\n    );\r\n\r\n    return (\r\n        <h3\r\n            className='card-section'\r\n            style={{ color: color, fontSize: section_text_font + 'pt' }}\r\n        >\r\n            {RRC(params[0], textHeight)}\r\n            {params[1] ? right : null}\r\n        </h3>\r\n    );\r\n};\r\n\r\nconst Fill = ({ params, card_data, options }) => {\r\n    return <span className='' style={{ flex: params[0] || 1 }} />;\r\n};\r\n\r\nconst TableHeader = ({\r\n    params,\r\n    card_data,\r\n    options,\r\n    cellStyle,\r\n    rowStyle,\r\n    iconMap,\r\n    ...props\r\n}) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <thead>\r\n            <tr\r\n                className='card-element card-table-header'\r\n                style={rowStyle}\r\n                {...props}\r\n            >\r\n                {params.map((param, i) => (\r\n                    <td key={i} className='card-table-cell' style={cellStyle}>\r\n                        {RRC(param, textHeight)}\r\n                    </td>\r\n                ))}\r\n            </tr>\r\n        </thead>\r\n    );\r\n};\r\n\r\nconst TableRow = ({\r\n    params,\r\n    card_data,\r\n    options,\r\n    cellStyle,\r\n    rowStyle,\r\n    props,\r\n}) => {\r\n    const textHeight = card_data_body_text_font(card_data, options);\r\n    return (\r\n        <tbody>\r\n            <tr\r\n                className='card-element card-table-row'\r\n                style={rowStyle}\r\n                {...props}\r\n            >\r\n                {params.map((param, i) => (\r\n                    <td key={i} className='card-table-cell' style={cellStyle}>\r\n                        {RRC(param, textHeight)}\r\n                    </td>\r\n                ))}\r\n            </tr>\r\n        </tbody>\r\n    );\r\n};\r\n\r\nconst PFTrait = ({ params }) => {\r\n    const traits = params.map((param, i) => {\r\n        let rarityClass = '';\r\n        switch (param) {\r\n            case 'uncommon':\r\n                rarityClass = '-uncommon';\r\n                break;\r\n            case 'rare':\r\n                rarityClass = '-rare';\r\n                break;\r\n            case 'unique':\r\n                rarityClass = '-unique';\r\n                break;\r\n        }\r\n        return (\r\n            <span key={i} className={'card-pftrait' + rarityClass}>\r\n                {param}\r\n            </span>\r\n        );\r\n    });\r\n    return <div className='card-element card-pftrait-line'>{traits}</div>;\r\n};\r\n\r\nconst Unknown = ({ params, card_data, options }) => {\r\n    return <div>Unknown element{params.join(<br />)}</div>;\r\n};\r\n\r\nconst Empty = () => null;\r\n\r\nconst card_element_generators = {\r\n    subtitle: Subtitle,\r\n    property: Property,\r\n    rule: Ruler,\r\n    ruler: Ruler,\r\n    box: Boxes,\r\n    boxes: Boxes,\r\n    description: Description,\r\n    text: Text,\r\n    center: Center,\r\n    justify: Justify,\r\n    bullet: Bullet,\r\n    check: Check,\r\n    fill: Fill,\r\n    section: Section,\r\n    disabled: Empty,\r\n    picture: Picture,\r\n    icon: InlineIcon,\r\n    tablehead: TableHeader,\r\n    tableheader: TableHeader,\r\n    table: TableRow,\r\n    tablerow: TableRow,\r\n    pftrait: PFTrait,\r\n    d20stat: D20Stat,\r\n    d20ability: D20Stat,\r\n    unknown: Unknown,\r\n};\r\n\r\nexport const CardFront = props => {\r\n    const { card_data, options } = props;\r\n    var color = card_data_color_front(card_data, options);\r\n    var colorStyle = card_generate_color_style(color, options);\r\n    var body_text_font = card_data_body_text_font(card_data, options);\r\n\r\n    const { width, height } = cardSize[options.card_size];\r\n    const masterStyle = { width, height };\r\n\r\n    if (options.card_orientation === 'landscape') {\r\n        masterStyle.width = height;\r\n        masterStyle.height = width;\r\n    }\r\n\r\n    const style = {\r\n        ...colorStyle,\r\n        fontSize: body_text_font + 'pt',\r\n        ...masterStyle,\r\n    };\r\n\r\n    // card-size-${options.card_size}\r\n    return (\r\n        <div className={`card`} style={style}>\r\n            <Icon {...props} />\r\n            <Title {...props} />\r\n            {makeCardContents(card_data.contents, props)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const CardBack = props => {\r\n    const { card_data, options } = props;\r\n    var color = card_data_color_back(card_data, options);\r\n    var colorStyle = card_generate_background_color_style(color, options);\r\n\r\n    const { width, height } = cardSize[options.card_size];\r\n    const masterStyle = { width, height };\r\n\r\n    if (options.card_orientation === 'landscape') {\r\n        masterStyle.width = height;\r\n        masterStyle.height = width;\r\n    }\r\n\r\n    const style = {\r\n        ...colorStyle,\r\n        ...masterStyle,\r\n    };\r\n\r\n    // card-size-${options.card_size}\r\n    return (\r\n        <div className={`card`} style={style}>\r\n            <div className='card-back'>\r\n                <div className='card-back-inner'>\r\n                    <IconBack {...props} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CardEmpty = props => {\r\n    const { count = 1, options } = props;\r\n    var colorStyle = card_generate_color_style('white');\r\n\r\n    const { width, height } = cardSize[options.card_size];\r\n    const masterStyle = { width, height };\r\n\r\n    if (options.card_orientation === 'landscape') {\r\n        masterStyle.width = height;\r\n        masterStyle.height = width;\r\n    }\r\n\r\n    const style = {\r\n        ...colorStyle,\r\n        ...masterStyle,\r\n    };\r\n\r\n    // card-size-${options.card_size}\r\n    return Array(count)\r\n        .fill(0)\r\n        .map((_, i) => <div key={i} className={`card`} style={style} />);\r\n};\r\n\r\nconst CardContent = ({ line, card_data, options, ...props }) => {\r\n    const [name, ...params] = card_data_split_params(line);\r\n    const Gen = card_element_generators[name || 'unknown'];\r\n    const content = { params, card_data, options };\r\n\r\n    if (name && Gen) {\r\n        return <Gen {...content} {...props} />;\r\n    }\r\n    return <Empty {...content} {...props} />;\r\n};\r\n\r\nconst makeCardContents = (contents, props) => {\r\n    const contentGroup = split_content([...contents, '']);\r\n\r\n    const list = contentGroup.map((value, i) => {\r\n        if (Array.isArray(value)) {\r\n            const tableprops = (\r\n                value.find(row => row.startsWith('tableprops')) || ''\r\n            )\r\n                .toLowerCase()\r\n                .replace(/\\s+/g, '');\r\n            const cellStyle = {};\r\n            const rowStyle = {};\r\n            const tableStyle = {};\r\n            if (tableprops.includes('norow;')) {\r\n                cellStyle.border = 0;\r\n                rowStyle.border = 0;\r\n            }\r\n            if (tableprops.includes('lefttext;')) {\r\n                cellStyle.textAlign = 'left';\r\n            }\r\n            if (tableprops.includes('paragraph;')) {\r\n                rowStyle.marginTop = 5.33;\r\n            }\r\n            return (\r\n                <table key={i} className='card-table' style={tableStyle}>\r\n                    {value\r\n                        .filter(row => !row.startsWith('tableprops'))\r\n                        .map((row, x) => (\r\n                            <CardContent\r\n                                key={x}\r\n                                line={row}\r\n                                {...props}\r\n                                cellStyle={cellStyle}\r\n                                rowStyle={rowStyle}\r\n                            />\r\n                        ))}\r\n                </table>\r\n            );\r\n        }\r\n        return <CardContent key={i} line={value} {...props} />;\r\n    });\r\n\r\n    return <div className='card-content-container'>{list}</div>;\r\n};\r\n\r\nconst split_content = (contents, split = []) => {\r\n    if (contents.length === 0) return split;\r\n\r\n    let queue = [];\r\n    contents.forEach(value => {\r\n        if (\r\n            [\r\n                'tableprops',\r\n                'table',\r\n                'tablerow',\r\n                'tableheader',\r\n                'tablehead',\r\n            ].includes(card_data_split_params(value)[0])\r\n        ) {\r\n            queue.push(value);\r\n        } else {\r\n            if (queue.length) {\r\n                split.push(queue);\r\n                queue = [];\r\n            }\r\n            split.push(value);\r\n        }\r\n    });\r\n\r\n    return split;\r\n};\r\n\r\nconst card_generate_color_style = (color, options) => ({\r\n    color,\r\n    borderColor: color,\r\n    backgroundColor: color,\r\n});\r\n\r\nconst card_generate_background_color_style = (color, options) => ({\r\n    color,\r\n    borderColor: color,\r\n    backgroundColor: color,\r\n});\r\n\r\nconst card_generate_color_gradient_style = (color, options) => ({\r\n    background: `radial-gradient(ellipse at center, white 20%, ${color} 120%)`,\r\n});\r\n\r\nexport const card_pages_generate_html = (cardList, options, iconMap) => {\r\n    const props = {\r\n        options,\r\n        iconMap,\r\n    };\r\n\r\n    var rows = Number(options.page_rows) || 2;\r\n    var cols = Number(options.page_columns) || 2;\r\n\r\n    var front_cards = cardList.flatMap((card, i) =>\r\n        Array(Number(options.card_count) || Number(card.count) || 1)\r\n            .fill(0)\r\n            .map((_, x) => (\r\n                <CardFront\r\n                    key={`front-${i}-${x}`}\r\n                    card_data={card}\r\n                    {...props}\r\n                />\r\n            ))\r\n    );\r\n    var back_cards = cardList.flatMap((card, i) =>\r\n        Array(Number(options.card_count) || Number(card.count) || 1)\r\n            .fill(0)\r\n            .map((_, x) => (\r\n                <CardBack key={`back-${i}-${x}`} card_data={card} {...props} />\r\n            ))\r\n    );\r\n\r\n    var pages = [];\r\n    if (options.card_arrangement === 'doublesided') {\r\n        // Add padding cards so that the last page is full of cards\r\n        front_cards = card_pages_add_padding(front_cards, options);\r\n        back_cards = card_pages_add_padding(back_cards, options);\r\n\r\n        // Split cards to pages\r\n        var front_pages = card_pages_split(front_cards, rows, cols);\r\n        var back_pages = card_pages_split(back_cards, rows, cols);\r\n\r\n        // Shuffle back cards so that they line up with their corresponding front cards\r\n        back_pages = back_pages.map(function (page) {\r\n            return cards_pages_flip_left_right(page, rows, cols);\r\n        });\r\n\r\n        // Interleave front and back pages so that we can print double-sided\r\n        pages = card_pages_merge(front_pages, back_pages);\r\n    } else if (options.card_arrangement === 'front_only') {\r\n        var cards = card_pages_add_padding(front_cards, options);\r\n        pages = card_pages_split(cards, rows, cols);\r\n    } else if (options.card_arrangement === 'side_by_side') {\r\n        var cards = card_pages_interleave_cards(\r\n            front_cards,\r\n            back_cards,\r\n            options\r\n        );\r\n        cards = card_pages_add_padding(cards, options);\r\n        pages = card_pages_split(cards, rows, cols);\r\n    }\r\n\r\n    return card_pages_wrap(pages, options);\r\n};\r\n\r\nconst card_pages_wrap = (pages, options) => {\r\n    const { page_size, page_orientation } = options;\r\n    const { width = '4.25in', height = '5.5in' } = pageSize[page_size];\r\n    const masterStyle = { width, height };\r\n\r\n    if (page_orientation === 'landscape') {\r\n        masterStyle.width = height;\r\n        masterStyle.height = width;\r\n    }\r\n\r\n    const result = pages.map((page, i) => {\r\n        const style = { ...masterStyle };\r\n        if (options.card_arrangement === 'doublesided' && i % 2 === 1) {\r\n            style.backgroundColor = options.background_color;\r\n        } else {\r\n            style.backgroundColor = options.foreground_color;\r\n        }\r\n        return (\r\n            <div key={i} className='page page-preview' style={style}>\r\n                {page}\r\n            </div>\r\n        );\r\n    });\r\n    // return result;\r\n    return <Wrapper size={`${width} ${height}`}>{result}</Wrapper>;\r\n};\r\n\r\nfunction card_pages_split(data, rows, cols) {\r\n    var cards_per_page = rows * cols;\r\n    var result = [];\r\n    for (var i = 0; i < data.length; i += cards_per_page) {\r\n        var page = data.slice(i, i + cards_per_page);\r\n        result.push(page);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction card_pages_merge(front_pages, back_pages) {\r\n    var result = [];\r\n    for (var i = 0; i < front_pages.length; ++i) {\r\n        result.push(front_pages[i]);\r\n        result.push(back_pages[i]);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction cards_pages_flip_left_right(cards, rows, cols) {\r\n    var result = [];\r\n    for (var r = 0; r < rows; ++r) {\r\n        for (var c = 0; c < cols; ++c) {\r\n            var i = r * cols + (cols - 1 - c);\r\n            result.push(cards[i]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction card_pages_add_padding(cards, options) {\r\n    var cards_per_page = options.page_rows * options.page_columns;\r\n    var last_page_cards = cards.length % cards_per_page;\r\n    if (last_page_cards !== 0) {\r\n        return cards.concat(\r\n            <CardEmpty\r\n                key={'end'}\r\n                count={(options.page_columns - 2, options)}\r\n                options={options}\r\n            />\r\n        );\r\n    } else {\r\n        return cards;\r\n    }\r\n}\r\n\r\nfunction card_pages_interleave_cards(front_cards, back_cards, options) {\r\n    var result = [];\r\n    var i = 0;\r\n    while (i < front_cards.length) {\r\n        result.push(front_cards[i]);\r\n        result.push(back_cards[i]);\r\n        if (options.page_columns > 2) {\r\n            result.push(\r\n                <CardEmpty\r\n                    key={i}\r\n                    count={(options.page_columns - 2, options)}\r\n                    options={options}\r\n                />\r\n            );\r\n        }\r\n        ++i;\r\n    }\r\n    return result;\r\n}\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport styled from '@emotion/styled';\r\nimport {\r\n    Button as button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    IconButton,\r\n    useMediaQuery,\r\n    useTheme,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport React from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { Icon, Title } from './card';\r\n\r\nconst Button = styled(button)`\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst StyledDialog = styled(Dialog)`\r\n    .MuiAppBar {\r\n        position: relative;\r\n        width: unset;\r\n    }\r\n    .MuiTypography-h6 {\r\n        margin-left: theme.spacing(2);\r\n        flex: 1;\r\n    }\r\n\r\n    .MuiDialog-paper {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n`;\r\n\r\nexport default ({ cardList, setCardList, ...props }) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [currentOrder, setOrder] = React.useState([]);\r\n\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n        setOrder(\r\n            cardList.map((card, i) => ({\r\n                ...card,\r\n                uuid: uuidv4(),\r\n            }))\r\n        );\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleSave = () => {\r\n        setCardList(currentOrder);\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button variant='contained' onClick={handleOpen}>\r\n                Order Cards\r\n            </Button>\r\n            <StyledDialog\r\n                fullScreen={fullScreen}\r\n                open={open}\r\n                onClose={handleClose}\r\n                fullWidth\r\n                maxWidth='md'\r\n                scroll='paper'\r\n            >\r\n                <DialogTitle>\r\n                    <Grid\r\n                        container\r\n                        direction='row'\r\n                        justify='space-between'\r\n                        alignItems='center'\r\n                    >\r\n                        <Grid item>\r\n                            <h1>Order the Cards</h1>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <IconButton onClick={handleClose}>\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <Grid container>\r\n                        <DDList\r\n                            currentOrder={currentOrder}\r\n                            onChange={setOrder}\r\n                            {...props}\r\n                        />\r\n                    </Grid>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleSave}>Save Order</Button>\r\n                </DialogActions>\r\n            </StyledDialog>\r\n        </>\r\n    );\r\n};\r\n\r\nconst DDList = ({\r\n    currentOrder: cardList,\r\n    onChange,\r\n    options,\r\n    iconMap,\r\n    ...props\r\n}) => {\r\n    const onDragEnd = result => {\r\n        // dropped outside the list\r\n        if (!result.destination) {\r\n            return;\r\n        }\r\n\r\n        const newOrderItems = reorder(\r\n            cardList,\r\n            result.source.index,\r\n            result.destination.index\r\n        );\r\n\r\n        onChange(newOrderItems);\r\n    };\r\n\r\n    return (\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId='droppable'>\r\n                {(provided, snapshot) => (\r\n                    <div\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                        style={getListStyle(snapshot.isDraggingOver)}\r\n                    >\r\n                        {cardList.map((item, index) => (\r\n                            <Draggable\r\n                                key={item.uuid}\r\n                                draggableId={item.uuid}\r\n                                index={index}\r\n                            >\r\n                                {(provided, snapshot) => (\r\n                                    <div\r\n                                        ref={provided.innerRef}\r\n                                        {...provided.draggableProps}\r\n                                        {...provided.dragHandleProps}\r\n                                        style={getItemStyle(\r\n                                            snapshot.isDragging,\r\n                                            provided.draggableProps.style\r\n                                        )}\r\n                                    >\r\n                                        <DragItem\r\n                                            card={item}\r\n                                            options={options}\r\n                                            iconMap={iconMap}\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n                            </Draggable>\r\n                        ))}\r\n                        {provided.placeholder}\r\n                    </div>\r\n                )}\r\n            </Droppable>\r\n        </DragDropContext>\r\n    );\r\n};\r\n\r\nconst uuidv4 = () => {\r\n    return 'xxx4xxx'.replace(/[xy]/g, function (c) {\r\n        var r = (Math.random() * 16) | 0,\r\n            v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n        return v.toString(16);\r\n    });\r\n};\r\n\r\nconst DragItem = ({ index, card, options, iconMap, ...props }) => {\r\n    const color =\r\n        card.color_front || card.color || options.default_color || 'black';\r\n\r\n    const cardProps = { card_data: card, options, iconMap };\r\n\r\n    return (\r\n        <div\r\n            {...props}\r\n            className='card'\r\n            style={{\r\n                height: 80,\r\n                width: '100%',\r\n                color,\r\n                borderColor: color,\r\n                backgroundColor: color,\r\n                borderRadius: 4,\r\n                zIndex: 10,\r\n            }}\r\n        >\r\n            <Icon {...cardProps} />\r\n            <Title {...cardProps} />\r\n        </div>\r\n    );\r\n};\r\n\r\n// a little function to help us with reordering the result\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n};\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n\r\n    ...(isDragging && {\r\n        background: 'rgb(235,235,235)',\r\n    }),\r\n    marginBottom: 4,\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n    // background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n    width: '100%',\r\n});\r\n","import AppBar from '@material-ui/core/AppBar';\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <Typography\r\n            component='div'\r\n            role='tabpanel'\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && <Box p={3}>{children}</Box>}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `simple-tab-${index}`,\r\n        'aria-controls': `simple-tabpanel-${index}`,\r\n        style: { minWidth: 0 },\r\n    };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n\r\nexport const TabManager = ({\r\n    names,\r\n    tabContent,\r\n    orientation = 'horizontal',\r\n    tabProps = {},\r\n    ...props\r\n}) => {\r\n    const classes = useStyles();\r\n    const [value, setValue] = React.useState(0);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position='static' variant='outlined' {...props}>\r\n                <Tabs\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    variant='fullWidth'\r\n                    {...tabProps}\r\n                >\r\n                    {names.map((name, i) => (\r\n                        <Tab key={i} label={name} {...a11yProps(i)} />\r\n                    ))}\r\n                </Tabs>\r\n            </AppBar>\r\n            {tabContent.map((content, i) => (\r\n                <TabPanel key={i} value={value} index={i}>\r\n                    {content}\r\n                </TabPanel>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","const text = () => {\r\n    return (\r\n        <div>\r\n            <h2>Content Line Types</h2>\r\n            <p>\r\n                Each line in the content box must start with one of the\r\n                following commands. Each type is proceeded by a \"|\" (bar\r\n                character). Some line types can have multiple bars, the text\r\n                between two bars, or the end text, will be displayed as per the\r\n                type. Examples of each type can be found below.\r\n            </p>\r\n            <hr />\r\n            {/* SUBTITLE */}\r\n            <p>\r\n                <span className='text-desc'>subtitle</span> Text that will be\r\n                displayed right below the cards title. You can only have a\r\n                single subtitle per card, but it is not required.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the text.</li>\r\n            </ul>\r\n            <code>subtitle | Text that will appear right below a card</code>\r\n            <hr />\r\n\r\n            {/* TEXT */}\r\n            <p>\r\n                <span className='text-desc'>text</span> The text following the |\r\n                will be displayed. Variations include:{' '}\r\n                <span className='text-desc'>center</span>{' '}\r\n                <span className='text-desc'>justify</span>\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the text.</li>\r\n            </ul>\r\n            <code>\r\n                text | Some text to display. The text will wrap to the next line\r\n                if it is long enough.\r\n            </code>\r\n            <hr />\r\n\r\n            {/* DESCRIPTION */}\r\n            <p>\r\n                <span className='text-desc'>description</span> Displays a title\r\n                in bold and a body of text after it. The head and body have no\r\n                seperating marks.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the title.</li>\r\n                <li>Argument 2: the text displayed after the title.</li>\r\n            </ul>\r\n            <code>\r\n                property | Head of the description | Text body related to the\r\n                description. This will display like a definition in a\r\n                dictionary.\r\n            </code>\r\n            <hr />\r\n\r\n            {/* PROPERTY */}\r\n            <p>\r\n                <span className='text-desc'>property</span> Like the description\r\n                type, but the title and body are seperated by a \".\" and if the\r\n                body wraps, it is indented. If you use another bar, a second\r\n                property will be displayed right aligned to the first one. This\r\n                can be useful to display multiple short properties. Be warned,\r\n                if the first part is too long, it will wrap the second part in a\r\n                weird way.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the title.</li>\r\n                <li>Argument 2: the text displayed after the title.</li>\r\n                <li>Argument 3 (Optional): the second title. Right aligned.</li>\r\n                <li>\r\n                    Argument 4 (Optional): the text displayed after the second\r\n                    title.\r\n                </li>\r\n            </ul>\r\n            <code>\r\n                property | Head of the property | Text body related to the\r\n                property. If the body is long enought to wrap, it will be\r\n                indented.\r\n            </code>\r\n            <code>\r\n                property | Head 1 | Text body related to the first property. |\r\n                Head 2 | Text body for the second part\r\n            </code>\r\n\r\n            <hr />\r\n\r\n            {/* RULE */}\r\n            <p>\r\n                <span className='text-desc'>rule</span> Displays a horizontal\r\n                line across the card. The color of the line will match the\r\n                card's. This has no arguments, so does not need a bar.\r\n                Variations include: <span className='text-desc'>ruler</span>\r\n            </p>\r\n            <ul>\r\n                <li>No arguments</li>\r\n            </ul>\r\n            <code>rule</code>\r\n            <hr />\r\n\r\n            {/* BOX */}\r\n            <p>\r\n                <span className='text-desc'>box</span> Creates a number of empty\r\n                boxes. The boxes will be the same color as the card. You can\r\n                change the size of the boxes with a second argument. Variations\r\n                include: <span className='text-desc'>boxes</span>\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Argument 1 (Optional): The number of boxes to create. If no\r\n                    value is provided, it creates a single box.\r\n                </li>\r\n                <li>\r\n                    Argument 2 (Optional): The size of the boxes. Default size\r\n                    is 3.\r\n                </li>\r\n            </ul>\r\n            <code>box | 1</code>\r\n            <code>box | 6 | 10</code>\r\n            <hr />\r\n\r\n            {/* BULLET */}\r\n            <p>\r\n                <span className='text-desc'>bullet</span> Creates a bullet\r\n                pointed line. A second bar will format the bullet like the\r\n                property type (head and body text).\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Argument 1: the text. If argument 2 is present, this becomes\r\n                    the bolded title.\r\n                </li>\r\n                <li>\r\n                    Argument 2 (Optional): the text displayed after the title.\r\n                </li>\r\n            </ul>\r\n            <code>bullet | some text on an item line</code>\r\n            <code>bullet | title of something | description of that thing</code>\r\n            <hr />\r\n\r\n            {/* CHECK */}\r\n            <p>\r\n                <span className='text-desc'>check</span> Like bullet, but will\r\n                create a hollow box like a checkbox.\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Argument 1: the text. If argument 2 is present, this becomes\r\n                    the bolded title.\r\n                </li>\r\n                <li>\r\n                    Argument 2 (Optional): the text displayed after the title.\r\n                </li>\r\n            </ul>\r\n            <code>check | some text on an item line</code>\r\n            <code>check | title of something | description of that thing</code>\r\n            <hr />\r\n\r\n            {/* SECTION */}\r\n            <p>\r\n                <span className='text-desc'>section</span> Creates a large line\r\n                of text with a line under it that goes across the card. A second\r\n                bar will create a second bit of text that is right aligned.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the section name.</li>\r\n                <li>\r\n                    Argument 2 (Optional): a second section name, right aligned.\r\n                </li>\r\n            </ul>\r\n            <code>section | Heading 1</code>\r\n            <code>section | Heading right | Heading left</code>\r\n            <hr />\r\n\r\n            {/* FILL */}\r\n            <p>\r\n                <span className='text-desc'>fill</span> A dynamically resized\r\n                empty space that takes up a portion of the card. You can use\r\n                this to vertically center text by adding one of these before and\r\n                after the text you want to center.\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Argument 1 (Optional): the number of units of empty space to\r\n                    use.\r\n                </li>\r\n            </ul>\r\n            <code>fill</code>\r\n            <code>fill | 4</code>\r\n            <hr />\r\n\r\n            {/* PICTURE */}\r\n            <p>\r\n                <span className='text-desc'>picture</span> An image will be\r\n                displayed based on the url provided.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: the number of units of empty space to use.</li>\r\n                <li>Argument 2: The height of the image, in mm.</li>\r\n            </ul>\r\n            <code>picture | url.com/image</code>\r\n            <code>picture | url.com/image | 20</code>\r\n            <hr />\r\n\r\n            {/* ICON */}\r\n            <p>\r\n                <span className='text-desc'>icon</span> An inline icon. The icon\r\n                can be left, right, or center aligned and the size can be\r\n                changed. The name of the icon must match one of the icons found\r\n                in the icon browsers.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: The icon's name.</li>\r\n                <li>\r\n                    Argument 2 (Optional): The height of the image, in px.\r\n                    Default is 40.\r\n                </li>\r\n                <li>\r\n                    Argument 3 (Optional): How the icon is aligned: right, left,\r\n                    center. Default value is center.\r\n                </li>\r\n            </ul>\r\n            <code>icon | ace</code>\r\n            <code>icon | ace | 60</code>\r\n            <code>icon | ace | 60 | right</code>\r\n            <hr />\r\n\r\n            {/* TABLEHEAD */}\r\n            {/* TABLEROW */}\r\n            <p>\r\n                <span className='text-desc'>tablehead</span> and{' '}\r\n                <span className='text-desc'>tablerow</span> A row of a table.\r\n                Each table cell is its own argument. Tablerows and tablehead\r\n                lines with no space between them will group together to make a\r\n                table. For best results, make sure each row has the number of\r\n                arguments. The tablehead will change the style of the the line\r\n            </p>\r\n            <ul>\r\n                <li>Argument X: the text of a table cell.</li>\r\n            </ul>\r\n            <code>tablehead | heading 1 | heading 2 | heading 3</code>\r\n            <code>tablerow | cell 1 | cell 2 | cell 3</code>\r\n            <hr />\r\n\r\n            {/* PFTRAIT */}\r\n            <p>\r\n                <span className='text-desc'>pftrait</span> Creates a trait icon\r\n                like in the Pathfinder 2e rulebook. Each argument is its own\r\n                trait. The arguments uncommon, rare, and unique will be styled\r\n                special, as per the rulebook.\r\n            </p>\r\n            <ul>\r\n                <li>Argument X: The trait name.</li>\r\n            </ul>\r\n            <code>pftrait | arcane | fire | manipulate</code>\r\n            <code>pftrait | uncommon | kobold</code>\r\n            <hr />\r\n\r\n            {/* D20STAT */}\r\n            <p>\r\n                <span className='text-desc'>d20stat</span> Creates a stat block\r\n                using the d20 rules. Teh modifier will be calculated from the\r\n                given value.\r\n            </p>\r\n            <ul>\r\n                <li>Argument 1: Strength value.</li>\r\n                <li>Argument 2: Dexterity value.</li>\r\n                <li>Argument 3: Constituion value.</li>\r\n                <li>Argument 4: Intelligence value.</li>\r\n                <li>Argument 5: Wisdom value.</li>\r\n                <li>Argument 6: Charisma value.</li>\r\n            </ul>\r\n            <code>d20stat | 10 | 14 | 13 | 18 | 15 | 9</code>\r\n            <hr />\r\n\r\n            <h2>Styling of Text</h2>\r\n            <p>\r\n                Below you will find the markup language you can use to style the\r\n                text of most line types.\r\n            </p>\r\n\r\n            {/* BOLD */}\r\n            <code>**bolded text**</code>\r\n            <p>\r\n                Text can be bolded by placing it in between a pair of two star\r\n                characters.\r\n            </p>\r\n            <hr />\r\n\r\n            {/* ITALICS */}\r\n            <code>*italicized text*</code>\r\n            <p>\r\n                Text can be italicized by placing it in between a pair star\r\n                characters.\r\n            </p>\r\n            <hr />\r\n\r\n            {/* ENDASH */}\r\n            <code>endash--between</code>\r\n            <p>Two dash characters will become an endash.</p>\r\n            <hr />\r\n\r\n            {/* EMDASH */}\r\n            <code>emdash---between</code>\r\n            <p>\r\n                Three dash characters will become an emdash, which is slightly\r\n                longer than endash.\r\n            </p>\r\n            <hr />\r\n\r\n            {/* NEW LINE */}\r\n            <code>break text^^between lines</code>\r\n            <p>\r\n                Two caret characters will become a newline. This allows you to\r\n                break text between lines.\r\n            </p>\r\n            <hr />\r\n\r\n            {/* PF ACTION */}\r\n            <code>[[one-action]]</code>\r\n            <p>The symbol for Pathfinder 2e single action.</p>\r\n            <hr />\r\n            <code>[[two-action]]</code>\r\n            <p>The symbol for Pathfinder 2e two action.</p>\r\n            <hr />\r\n            <code>[[three-action]]</code>\r\n            <p>The symbol for Pathfinder 2e three action.</p>\r\n            <hr />\r\n            <code>[[free-action]]</code>\r\n            <p>The symbol for Pathfinder 2e free action.</p>\r\n            <hr />\r\n            <code>[[reaction]]</code>\r\n            <p>The symbol for Pathfinder 2e reaction.</p>\r\n            <hr />\r\n        </div>\r\n    );\r\n};\r\nexport default text;\r\n","const text = () => {\r\n    return (\r\n        <div>\r\n            <p>Printing works, just be sure that the number of cards per page, size of the page, and size of cards all work. Better instructions are coming soon&trade;.</p>\r\n        </div>\r\n    );\r\n};\r\nexport default text;\r\n","import styled from '@emotion/styled';\r\nimport {\r\n    Button as button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    IconButton,\r\n    useMediaQuery,\r\n    useTheme\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport React from 'react';\r\nimport { TabManager } from '../../tabComponents';\r\nimport ContentText from './content-text';\r\nimport PrintingText from './printing';\r\n\r\n\r\nconst Button = styled(button)`\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst StyledDialog = styled(Dialog)`\r\n    .MuiAppBar {\r\n        position: relative;\r\n        width: unset;\r\n    }\r\n    .MuiTypography-h6 {\r\n        margin-left: theme.spacing(2);\r\n        flex: 1;\r\n    }\r\n\r\n    .MuiDialog-paper {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n`;\r\n\r\nconst HelpDialog = () => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button variant='contained' onClick={handleOpen}>\r\n                Open Help\r\n            </Button>\r\n            <StyledDialog\r\n                fullScreen={fullScreen}\r\n                open={open}\r\n                onClose={handleClose}\r\n                fullWidth\r\n                maxWidth='md'\r\n                scroll='paper'\r\n            >\r\n                <DialogTitle>\r\n                    <Grid\r\n                        container\r\n                        direction='row'\r\n                        justify='space-between'\r\n                        alignItems='center'\r\n                    >\r\n                        <Grid item>\r\n                            <h1>How to Use</h1>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <IconButton onClick={handleClose}>\r\n                                <CloseIcon />\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <TabManager\r\n                        names={['Styling Content', \"Printing Cards\"]}\r\n                        tabContent={[<ContentText />, <PrintingText />]}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose}>Close</Button>\r\n                </DialogActions>\r\n            </StyledDialog>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default HelpDialog;\r\n","import styled from '@emotion/styled';\r\nimport {\r\n    Button as button,\r\n    Divider,\r\n    Grid,\r\n    NativeSelect as select,\r\n    TextField as textField,\r\n} from '@material-ui/core';\r\nimport { saveAs } from 'file-saver';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { cape } from '../utils/toolHelper';\r\nimport { defaultOptions } from './data/defaultSettings';\r\nimport exampleCards from './data/exampleCards';\r\nimport { bodyFont, cardSize, pageSize, titleFont } from './data/option-data';\r\nimport { default as Order } from './dnd-dialog';\r\nimport HelpDialog from './help-dialog';\r\nimport { ColorSelector, IconSelector } from './util/selection';\r\n\r\nconst Button = styled(button)`\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst Select = styled(select)`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst TextField = styled(textField)`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nexport const PageSettings = ({\r\n    cardList,\r\n    setCardList,\r\n    pageOptions,\r\n    setPageOptions,\r\n    iconMap,\r\n    togglePrintMode,\r\n}) => {\r\n    const {\r\n        page_size,\r\n        card_size,\r\n        default_title_size,\r\n        default_body_text_size,\r\n        default_card_count,\r\n        icon_inline,\r\n        page_rows,\r\n        page_columns,\r\n        rounded_corners,\r\n        card_arrangement,\r\n        default_icon,\r\n        default_color,\r\n        page_orientation,\r\n        card_orientation,\r\n    } = pageOptions;\r\n\r\n    const divide = 5;\r\n    const buttonXS = 6;\r\n\r\n    const updateAllColor = () =>\r\n        setCardList(cardList.map(card => ({ ...card, color: default_color })));\r\n\r\n    const updateAllTitleFont = () =>\r\n        setCardList(\r\n            cardList.map(card => ({ ...card, title_size: default_title_size }))\r\n        );\r\n\r\n    const updateAllBodyFont = () =>\r\n        setCardList(\r\n            cardList.map(card => ({\r\n                ...card,\r\n                body_text_size: default_body_text_size,\r\n            }))\r\n        );\r\n\r\n    const updateAllFrontIcon = () =>\r\n        setCardList(\r\n            cardList.map(card => ({\r\n                ...card,\r\n                icon_front: default_icon,\r\n            }))\r\n        );\r\n\r\n    const updateAllBackIcon = () =>\r\n        setCardList(\r\n            cardList.map(card => ({\r\n                ...card,\r\n                icon_back: default_icon,\r\n            }))\r\n        );\r\n\r\n    const updateAllCardCount = () =>\r\n        setCardList(\r\n            cardList.map(card => ({\r\n                ...card,\r\n                count: default_card_count,\r\n            }))\r\n        );\r\n\r\n    const clickSaveCards = () => {\r\n        const fileName = prompt('Filename:') || 'rpg-cards';\r\n\r\n        const file = new Blob([JSON.stringify(cardList, null, 4)], {\r\n            type: 'application/json;charset=utf-8',\r\n        });\r\n\r\n        saveAs(file, fileName);\r\n    };\r\n\r\n    const handleFile = event => {\r\n        const fileReader = new FileReader();\r\n        fileReader.onloadend = e => {\r\n            const content = JSON.parse(fileReader.result);\r\n            setCardList([...cardList, ...cape(content)]);\r\n        };\r\n        fileReader.readAsText(event.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <Grid\r\n            item\r\n            xs={12}\r\n            md={3}\r\n            container\r\n            direction='column'\r\n            justify='center'\r\n            alignItems='stretch'\r\n            spacing={2}\r\n        >\r\n            {/* Global Settings */}\r\n            <Grid item container spacing={2}>\r\n                <Grid item xs={buttonXS}>\r\n                    <HelpDialog />\r\n                </Grid>\r\n                <Grid item xs={buttonXS}>\r\n                    <Button\r\n                        variant='contained'\r\n                        onClick={() => {\r\n                            setCardList([]);\r\n                        }}\r\n                    >\r\n                        Delete All\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={buttonXS}>\r\n                    <Button\r\n                        variant='contained'\r\n                        onClick={() => setCardList(exampleCards())}\r\n                    >\r\n                        Load Sample\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={buttonXS}>\r\n                    <UploadButton handleFile={handleFile}>\r\n                        Load from file\r\n                    </UploadButton>\r\n                </Grid>\r\n                <Grid item xs={buttonXS}>\r\n                    <Order\r\n                        cardList={cardList}\r\n                        setCardList={setCardList}\r\n                        options={pageOptions}\r\n                        iconMap={iconMap}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={buttonXS}>\r\n                    <Button variant='contained' onClick={clickSaveCards}>\r\n                        Save to file\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Button component={Link} to='/print' variant='contained'>\r\n                        Generate\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n                <h2>Print settings</h2>\r\n                <Grid\r\n                    container\r\n                    direction='row'\r\n                    justify='center'\r\n                    alignItems='flex-start'\r\n                    spacing={1}\r\n                >\r\n                    <Grid className='label' item xs={divide}>\r\n                        Page Size\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={page_size}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    page_size: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            {size2Options(pageSize)}\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Card Size\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={card_size}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    card_size: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            {size2Options(cardSize)}\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Page Orientation\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={page_orientation}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    page_orientation: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            <option value={'portrait'}>Portrait</option>\r\n                            <option value={'landscape'}>Landscape</option>\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Card Orientation\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={card_orientation}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    card_orientation: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            <option value={'portrait'}>Portrait</option>\r\n                            <option value={'landscape'}>Landscape</option>\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Cards/page\r\n                    </Grid>\r\n                    <Grid\r\n                        item\r\n                        xs={12 - divide}\r\n                        container\r\n                        direction='row'\r\n                        justify='space-between'\r\n                        alignItems='center'\r\n                    >\r\n                        <Grid item xs={5}>\r\n                            <TextField\r\n                                value={page_rows}\r\n                                onChange={event =>\r\n                                    setPageOptions({\r\n                                        ...pageOptions,\r\n                                        page_rows: event.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={2} style={{ textAlign: 'center' }}>\r\n                            \r\n                        </Grid>\r\n                        <Grid item xs={5}>\r\n                            <TextField\r\n                                value={page_columns}\r\n                                onChange={event =>\r\n                                    setPageOptions({\r\n                                        ...pageOptions,\r\n                                        page_columns: event.target.value,\r\n                                    })\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Arragement\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={card_arrangement}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    card_arrangement: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            <option value={'front_only'}>\r\n                                Front side only\r\n                            </option>\r\n                            <option value={'doublesided'}>\r\n                                Double sided printing\r\n                            </option>\r\n                            <option value='side_by_side'>Side by side</option>\r\n                        </Select>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n                <h2>Default values</h2>\r\n                <Grid\r\n                    container\r\n                    direction='row'\r\n                    justify='center'\r\n                    alignItems='flex-start'\r\n                    spacing={1}\r\n                >\r\n                    <Grid className='label' item xs={divide}>\r\n                        Title\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={default_title_size}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    default_title_size: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            {titleFont\r\n                                .filter(f => f.value)\r\n                                .map(({ name, value }) => (\r\n                                    <option key={value} value={value}>\r\n                                        {name}\r\n                                    </option>\r\n                                ))}\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={divide}>\r\n                        Body\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <Select\r\n                            value={default_body_text_size}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    default_body_text_size: event.target.value,\r\n                                })\r\n                            }\r\n                        >\r\n                            {bodyFont\r\n                                .filter(f => f.value)\r\n                                .map(({ name, value }) => (\r\n                                    <option key={value} value={value}>\r\n                                        {name}\r\n                                    </option>\r\n                                ))}\r\n                        </Select>\r\n                    </Grid>\r\n\r\n                    <Grid className='label' item xs={divide}>\r\n                        Card Count\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <TextField\r\n                            value={default_card_count}\r\n                            onChange={event =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    default_card_count: event.target.value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid className='label' item xs={divide}>\r\n                        Icon\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <IconSelector\r\n                            iconMap={iconMap}\r\n                            value={default_icon}\r\n                            onChange={value =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    default_icon: value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid className='label' item xs={divide}>\r\n                        Color\r\n                    </Grid>\r\n                    <Grid item xs={12 - divide}>\r\n                        <ColorSelector\r\n                            color={default_color}\r\n                            onChange={value =>\r\n                                setPageOptions({\r\n                                    ...pageOptions,\r\n                                    default_color: value,\r\n                                })\r\n                            }\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n                <h2>Apply defaults to all cards</h2>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button variant='contained' onClick={updateAllColor}>\r\n                            Apply color\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button\r\n                            variant='contained'\r\n                            onClick={updateAllCardCount}\r\n                        >\r\n                            Apply card count\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button\r\n                            variant='contained'\r\n                            onClick={updateAllTitleFont}\r\n                        >\r\n                            Apply title font\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button variant='contained' onClick={updateAllBodyFont}>\r\n                            Apply body font\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button\r\n                            variant='contained'\r\n                            onClick={updateAllFrontIcon}\r\n                        >\r\n                            Apply front icon\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={buttonXS}>\r\n                        <Button variant='contained' onClick={updateAllBackIcon}>\r\n                            Apply back icon\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n                <Divider />\r\n            </Grid>\r\n            <Grid item>\r\n                <Button\r\n                    onClick={() => setPageOptions(defaultOptions())}\r\n                    color='secondary'\r\n                    variant='contained'\r\n                >\r\n                    Reset Settings\r\n                </Button>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nconst size2Options = sizes =>\r\n    Object.entries(sizes).map(([id, { name, hint }]) => (\r\n        <option key={id} value={id}>\r\n            {name + (hint ? ` (${hint})` : '')}\r\n        </option>\r\n    ));\r\n\r\nconst UploadButton = ({ handleFile }) => {\r\n    return (\r\n        <div>\r\n            <input\r\n                style={{ display: 'none' }}\r\n                id='upload-button'\r\n                accept='application/json'\r\n                multiple\r\n                type='file'\r\n                onChange={handleFile}\r\n            />\r\n            <label htmlFor='upload-button'>\r\n                <Button variant='contained' component='span'>\r\n                    Load from file\r\n                </Button>\r\n            </label>\r\n        </div>\r\n    );\r\n};\r\n","export default () => [\r\n    {\r\n        count: 1,\r\n        color: 'maroon',\r\n        title: 'Burning Hands',\r\n        icon: 'white-book-1',\r\n        icon_back: 'robe',\r\n        contents: [\r\n            'subtitle | 1st level evocation',\r\n            'rule',\r\n            'property | Casting time | 1 action',\r\n            'property | Range | Self (15ft cone)',\r\n            'property | Components | V,S',\r\n            'rule',\r\n            'fill | 2',\r\n            'text | Each creature in a 15-foot cone must make a Dexterity saving throw. A creature takes **3d6 fire damage** on a failed save, or half as much damage on a successful one.',\r\n            \"text | The fire ignites any flammable objects in the area that aren't being worn or carried.\",\r\n            'fill | 3',\r\n            'section | At higher levels',\r\n            'text | *+1d6* damage for each slot above 1st',\r\n        ],\r\n        tags: ['spell', 'mage'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'indigo',\r\n        title: 'Cunning Action',\r\n        icon: 'white-book',\r\n        icon_back: 'cloak-dagger',\r\n        contents: [\r\n            'subtitle | Rogue feature',\r\n            'rule',\r\n            'fill | 2',\r\n            'text | You can take a <b>bonus action on each of your turns</b> in combat. This action can be used only to take the <b>Dash, Disengage, or Hide</b> action.',\r\n            'fill | 2',\r\n            'section | Fast hands (Thief 3rd)',\r\n            \"text | You can also use the bonus action to make a Dexterity (<b>Sleight of Hand</b>) check, use your thieves' tools to <b>disarm a trap</b> or <b>open a lock</b>, or take the <b>Use an Object</b> action.\",\r\n        ],\r\n        tags: ['feature', 'rogue'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'dimgray',\r\n        title: 'Full Plate',\r\n        icon: 'breastplate',\r\n        contents: [\r\n            'subtitle | Heavy armor (1500gp)',\r\n            'rule',\r\n            'property | AC | 18',\r\n            'property | Strength required | 15',\r\n            'property | Stealth | Disadvantage',\r\n            'rule',\r\n            'fill | 2',\r\n            'description | Heavy | Unless you have the required strength, your speed is reduced by 10 feet.',\r\n            'description | Stealth | You have disadvantage on Dexterity (Stealth) checks.',\r\n            'fill | 3',\r\n        ],\r\n        tags: ['item', 'armor'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'dimgray',\r\n        title: 'Dagger',\r\n        icon: 'mixed-swords',\r\n        contents: [\r\n            'subtitle | Simple melee weapon (2gp)',\r\n            'rule',\r\n            'property | Damage | 1d4 piercing',\r\n            'property | Modifier | Strength or Dexterity',\r\n            'property | Properties | Light, Finesse, Thrown (20/60)',\r\n            'rule',\r\n            'fill | 2',\r\n            'description | Finesse | Use your choice of Strength or Dexterity modifier for attack and damage.',\r\n            'description | Light | When you attack while dual wielding light weapons, you may use a bonus action to attack with your off hand.',\r\n            'description | Thrown | You can throw the weapon to make a ranged attack with the given range.',\r\n            'fill | 3',\r\n        ],\r\n        tags: ['item', 'weapon'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'dimgray',\r\n        title: 'Shortsword of Very Long Names',\r\n        title_size: '10',\r\n        icon: 'crossed-swords',\r\n        contents: [\r\n            'subtitle | Simple melee weapon (10gp)',\r\n            'rule',\r\n            'property | Damage | 1d6 piercing',\r\n            'property | Modifier | Strength or Dexterity',\r\n            'property | Properties | Light, Finesse',\r\n            'rule',\r\n            'fill | 2',\r\n            'description | Finesse | Use your choice of Strength or Dexterity modifier for attack and damage.',\r\n            'description | Light | When you attack while dual wielding light weapons, you may use a bonus action to attack with your off hand.',\r\n            'fill | 3',\r\n        ],\r\n        tags: ['item', 'weapon', 'magic'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'dimgray',\r\n        title: 'Wand of Magic Missiles',\r\n        icon: 'crystal-wand',\r\n        contents: [\r\n            'subtitle | Wondrous item',\r\n            'rule',\r\n            'property | Maximum charges | 7',\r\n            'property | Recharge | 1d6+1 each day',\r\n            'property | Depletion | If you expend the last charge, roll a d20. On a 1, the item is destroyed.',\r\n            'rule',\r\n            'fill | 2',\r\n            'description | Spells | You can use your action to cast the following spells:',\r\n            'bullet | magic missile, 1st level (1 charge)',\r\n            'bullet | magic missile, 2nd level (2 charges)',\r\n            'bullet | magic missile, 3rd level (3 charges)',\r\n            'fill | 3',\r\n            'boxes | 7 | 2.5',\r\n        ],\r\n        tags: ['item', 'wondrous-item', 'magic'],\r\n    },\r\n    {\r\n        count: 2,\r\n        color: 'dimgray',\r\n        title: 'Potion of Healing',\r\n        icon: 'drink-me',\r\n        contents: [\r\n            'subtitle | Potion (50gp)',\r\n            'rule',\r\n            'property | Use time | 1 action',\r\n            'property | Hit points restored | 2d4+2',\r\n            'rule',\r\n            'fill | 2',\r\n            'text | When you drink this potion, you regain 2d4+2 hitpoints.',\r\n            'text | Drinking or administering a potion takes 1 action.',\r\n            'fill | 3',\r\n        ],\r\n        tags: ['item', 'consumable'],\r\n    },\r\n    {\r\n        count: 1,\r\n        color: 'black',\r\n        title: 'Goblin',\r\n        icon: 'imp-laugh',\r\n        contents: [\r\n            'subtitle | Small humanoid (goblinoid)',\r\n            'rule',\r\n            'property | Armor class | 15 (leather armor, shield)',\r\n            'property | Hit points | 7 (2d6)',\r\n            'rule',\r\n            'dndstats | 8 | 14 | 10 | 10 | 8 | 8',\r\n            'rule',\r\n            'property | Skills | Stealth +6',\r\n            'property | Challenge | 1/4 (50 XP)',\r\n            'rule',\r\n            'description | Nimble escape | Disengage or Hide as bonus action',\r\n            'fill | 2',\r\n            'section | Actions',\r\n            'description | Scimitar | Melee Weapon Attack: +4 to hit, reach 5 ft., one target. Hit: 5 (1d6 + 2) slashing damage',\r\n        ],\r\n        tags: ['creature', 'humanoid'],\r\n    },\r\n];\r\n","export const cape = item => (Array.isArray(item) ? item : [item]);","import { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { CardFront, CardBack } from './card';\r\n\r\nexport const Preview = ({ card_data, options, iconMap }) => {\r\n    const cardProps = { card_data, options, iconMap };\r\n\r\n    if (card_data)\r\n        return (\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                md={5}\r\n                container\r\n                direction='column'\r\n                justify='flex-start'\r\n                alignItems='center'\r\n                spacing={1}\r\n            >\r\n                <Grid item id='preview-container'>\r\n                    <CardFront {...cardProps} />\r\n                </Grid>\r\n                <Grid item id='preview-container'>\r\n                    <CardBack {...cardProps} />\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    return null;\r\n};\r\n","import styled from '@emotion/styled';\r\nimport {\r\n    Accordion,\r\n    AccordionDetails,\r\n    AccordionSummary,\r\n    Button as button,\r\n    Grid,\r\n    NativeSelect,\r\n} from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useLocalState } from '../utils/reactHooks';\r\nimport { CardSettings } from './card-settings';\r\nimport './css/card-size.css';\r\nimport './css/cards.css';\r\nimport './css/ui.css';\r\nimport { defaultCardData, defaultOptions } from './data/defaultSettings';\r\nimport exampleData from './data/exampleCards';\r\nimport { PageSettings } from './page-settings';\r\nimport { Preview } from './preview';\r\n\r\nconst Container = styled(Grid)`\r\n    .label {\r\n        text-align: right;\r\n        padding-right: 16px;\r\n        font-weight: 800;\r\n    }\r\n`;\r\n\r\nconst Button = styled(button)`\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 12px;\r\n`;\r\n\r\nconst Select = styled(NativeSelect)`\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst Generator = ({ togglePrintMode }) => {\r\n    const [cardList, setCardList] = useLocalState('cardList', exampleData());\r\n    const [currentCard, setCurrentCard] = React.useState(0);\r\n    const [options, setOptions] = useLocalState(\r\n        'card_print_options',\r\n        defaultOptions()\r\n    );\r\n    const [iconMap, setIconMap] = React.useState({});\r\n    useEffect(() => {\r\n        const loadedIcons = require('../../iconMap.json');\r\n        setIconMap(loadedIcons);\r\n    }, []);\r\n\r\n    const { default_card_count = 1 } = options;\r\n\r\n    if (cardList.length === 0) {\r\n        setCardList([defaultCardData(1)]);\r\n    }\r\n\r\n    if (currentCard >= cardList.length) {\r\n        setCurrentCard(Math.max(0, cardList.length - 1));\r\n    }\r\n\r\n    const updateCard = value => {\r\n        if (currentCard < cardList.length) {\r\n            const dup = [...cardList];\r\n            dup[currentCard] = value;\r\n            setCardList(dup);\r\n        }\r\n    };\r\n\r\n    const updateIndex = event => {\r\n        if (typeof event === 'number') setCurrentCard(event);\r\n        else setCurrentCard(event.target.value);\r\n    };\r\n\r\n    const removeCurrent = () => {\r\n        const dup = [...cardList];\r\n        dup.splice(currentCard, 1);\r\n        setCardList(dup);\r\n    };\r\n\r\n    const newCard = () => {\r\n        setCardList([...cardList, defaultCardData(default_card_count)]);\r\n        setCurrentCard(cardList.length);\r\n    };\r\n\r\n    const duplicateCard = () => {\r\n        const curr = cardList[currentCard];\r\n        const def = defaultCardData();\r\n        const title = curr ? (curr.title + ' (Copy)').trim() : def.title;\r\n\r\n        setCardList([\r\n            ...cardList,\r\n            {\r\n                ...def,\r\n                ...cardList[currentCard],\r\n                title,\r\n            },\r\n        ]);\r\n        setCurrentCard(cardList.length);\r\n    };\r\n\r\n    return (\r\n        <Container\r\n            container\r\n            direction='row'\r\n            justify='space-between'\r\n            alignItems='flex-start'\r\n            spacing={2}\r\n            style={{ padding: 8, overflowX: 'hidden' }}\r\n        >\r\n            <PageSettings\r\n                cardList={cardList}\r\n                setCardList={setCardList}\r\n                pageOptions={options}\r\n                setPageOptions={setOptions}\r\n                iconMap={iconMap}\r\n                togglePrintMode={togglePrintMode}\r\n            />\r\n            <Grid item xs={12} md={4}>\r\n                <Deck\r\n                    cardList={cardList}\r\n                    currentCard={currentCard}\r\n                    updateCurrent={updateIndex}\r\n                    removeCurrent={removeCurrent}\r\n                    newCard={newCard}\r\n                    duplicateCard={duplicateCard}\r\n                />\r\n                <CardSettings\r\n                    currentCard={cardList[currentCard]}\r\n                    updateCard={updateCard}\r\n                    iconMap={iconMap}\r\n                />\r\n            </Grid>\r\n\r\n            <Preview\r\n                card_data={cardList[currentCard]}\r\n                options={options}\r\n                iconMap={iconMap}\r\n            />\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Deck = ({\r\n    cardList = [],\r\n    currentCard,\r\n    updateCurrent,\r\n    removeCurrent,\r\n    newCard,\r\n    duplicateCard,\r\n}) => {\r\n    const divide = 2;\r\n    const nameList = cardList.map(c => c.title);\r\n\r\n    console.log('current', currentCard, typeof currentCard);\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction='row'\r\n            justify='center'\r\n            alignItems='flex-start'\r\n            spacing={1}\r\n        >\r\n            <Grid className='label' item xs={divide}>\r\n                Deck\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                Deck contains {cardList.length} unique cards.\r\n            </Grid>\r\n            <Grid className='label' item xs={divide}>\r\n                Card\r\n            </Grid>\r\n            <Grid item xs={12 - divide}>\r\n                <Grid container spacing={2}>\r\n                    <Grid className='label' item xs={6}>\r\n                        <Button\r\n                            variant='contained'\r\n                            onClick={() =>\r\n                                updateCurrent(\r\n                                    Math.max(0, Number(currentCard) - 1)\r\n                                )\r\n                            }\r\n                        >\r\n                            Previous Card\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid className='label' item xs={6}>\r\n                        <Button\r\n                            variant='contained'\r\n                            onClick={() =>\r\n                                updateCurrent(\r\n                                    Math.min(\r\n                                        cardList.length - 1,\r\n                                        Number(currentCard) + 1\r\n                                    )\r\n                                )\r\n                            }\r\n                        >\r\n                            Next Card\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n                <Select value={currentCard} onChange={updateCurrent}>\r\n                    {nameList.map(makeDeckItem)}\r\n                </Select>\r\n\r\n                <Accordion variant='outlined' square>\r\n                    <AccordionSummary>Manage Card</AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Grid container spacing={2}>\r\n                            <Grid className='label' item xs={4}>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    onClick={newCard}\r\n                                >\r\n                                    New card\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid className='label' item xs={4}>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    onClick={duplicateCard}\r\n                                >\r\n                                    Duplicate Card\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid className='label' item xs={4}>\r\n                                <Button\r\n                                    variant='contained'\r\n                                    color='secondary'\r\n                                    onClick={removeCurrent}\r\n                                >\r\n                                    Delete Card\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nconst makeDeckItem = (name, i) => (\r\n    <option key={i} value={i}>\r\n        {name}\r\n    </option>\r\n);\r\n\r\nexport default Generator;\r\n","import React, { useEffect } from 'react';\r\nimport { useLocalState } from '../utils/reactHooks';\r\nimport { card_pages_generate_html } from './card';\r\nimport './css/card-size.css';\r\nimport './css/cards.css';\r\nimport './css/print.css';\r\nimport { defaultOptions } from './data/defaultSettings';\r\n\r\nconst Print = () => {\r\n    const [cardList] = useLocalState('cardList', []);\r\n    const [options] = useLocalState('card_print_options', defaultOptions());\r\n    const [iconMap, setIconMap] = React.useState({});\r\n\r\n    useEffect(() => {\r\n        const loadedIcons = require('../../iconMap.json');\r\n        setIconMap(loadedIcons);\r\n    }, []);\r\n\r\n    const pages = card_pages_generate_html(cardList, options, iconMap);\r\n\r\n    return pages;\r\n};\r\n\r\nexport default Print;\r\n","import { Route, Switch } from 'react-router-dom';\nimport { CardGenerator, CardPrinter } from './components';\n\nfunction App() {\n    return (\n        <Switch>\n            <Route exact path='/'>\n                <CardGenerator />\n            </Route>\n            <Route path='/print'>\n                <CardPrinter />\n            </Route>\n        </Switch>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}